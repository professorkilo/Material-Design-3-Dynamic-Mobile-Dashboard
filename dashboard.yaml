kiosk_mode:
  mobile_settings:
    hide_header: true
streamline_templates:
  title_card:
    variables:
      title: ''
    card:
      type: custom:mushroom-title-card
      title: '[[title]]'
      card_mod:
        style: |
          ha-card {
            --title-font-size: 20px !important;
          }
  title_subtitle_card:
    variables:
      title: ''
      subtitle: ''
      animation_delay: 0s
    card:
      type: custom:mushroom-title-card
      title: '[[title]]'
      subtitle: '[[subtitle]]'
      card_mod:
        style: |
          ha-card {
            --title-font-size: 20px !important;
            --subtitle-font-size: 14px !important;
            animation: fadeIn 1.0s ease-out [[animation_delay]] both;
          }
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
  title_subtitle_navigation_card:
    variables:
      title: ''
      subtitle: ''
      navigation_path: ''
    card:
      type: custom:mushroom-title-card
      title: '[[title]]'
      subtitle: '[[subtitle]]'
      title_tap_action:
        action: navigate
        navigation_path: '[[navigation_path]]'
      card_mod:
        style: |
          ha-card {
            --title-font-size: 20px !important;
            --subtitle-font-size: 14px !important;
          }
  title_navigation_card:
    variables:
      title: ''
      navigation_path: ''
    card:
      type: custom:mushroom-title-card
      title: '[[title]]'
      title_tap_action:
        action: navigate
        navigation_path: '[[navigation_path]]'
      card_mod:
        style: |
          ha-card {
            --title-font-size: 20px !important;
          }
  date_clock_text_card:
    variables:
      title: ''
    card:
      type: custom:mushroom-title-card
      title: '[[title]]'
      card_mod:
        style: |
          ha-card {
            --title-font-size: 15px !important;
            animation: fadeInDown 1.0s ease-out 0.3s both;
          }
          @keyframes fadeInDown {
            from {
              opacity: 0;
              transform: translateY(-40px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
  back_button_card:
    variables:
      navigation_path: ''
    card:
      type: custom:mushroom-chips-card
      chips:
        - type: template
          tap_action:
            action: navigate
            navigation_path: '[[navigation_path]]'
          icon: m3of:arrow-left-alt
          card_mod:
            style:
              .: |
                ha-card {
                  --color: var(--md-sys-color-primary);
                  --chip-background: var(--md-sys-color-on-primary);
                  animation: fadeInDown 0.4s ease-out 0.6s both;
                }
                @keyframes fadeInDown {
                  from {
                    opacity: 0;
                    transform: translateY(-40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
  page_title_card:
    variables:
      - title: ''
      - alignment: center
    card:
      type: custom:button-card
      name: '[[title]]'
      show_icon: false
      show_state: false
      tap_action:
        action: none
      styles:
        card:
          - background: none
          - box-shadow: none
          - height: 38px
        name:
          - justify-self: '[[alignment]]'
          - font-size: 24px
          - font-weight: 500
          - letter-spacing: '-0.7px'
      card_mod:
        style: |
          :host {
            animation: fadeInDown 0.4s ease-out 0.6s both;
          }
          @keyframes fadeInDown {
            from {
              opacity: 0;
              transform: translateY(-40px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
  more-options-card:
    variables:
      navigation_path: ''
    card:
      type: custom:mushroom-chips-card
      alignment: end
      chips:
        - type: template
          tap_action:
            action: navigate
            navigation_path: '[[navigation_path]]'
          icon: mdi:dots-horizontal
          card_mod:
            style:
              .: |
                ha-card {
                  --color: var(--md-sys-color-primary);
                  --chip-background: var(--md-sys-color-on-primary);
                  animation: fadeInDown 0.4s ease-out 0.6s both;
                }
                @keyframes fadeInDown {
                  from {
                    opacity: 0;
                    transform: translateY(-40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
  room_card:
    default:
      - name: ''
      - icon: ''
      - navigation_path: ''
      - entity_id_temperature: ''
      - entity_id_humidity: ''
      - entity_id_ac: ''
      - entity_id_ac_main: ''
      - entity_id_lights: ''
      - entity_id_covers: ''
      - entity_id_fans: ''
      - entity_id_doors: ''
      - entity_id_windows: ''
      - entity_id_speakers: ''
      - entity_id_custom_1: ''
      - entity_id_custom_2: ''
      - entity_id_custom_3: ''
      - entity_id_custom_4: ''
      - lights_count_sensor: ''
      - covers_count_sensor: ''
      - fans_count_sensor: ''
      - doors_count_sensor: ''
      - windows_count_sensor: ''
      - speakers_count_sensor: ''
      - lights_icon: ''
      - custom_1_icon: ''
      - custom_2_icon: ''
      - custom_3_icon: ''
      - custom_4_icon: ''
      - custom_1_color: ''
      - custom_2_color: ''
      - custom_3_color: ''
      - custom_4_color: ''
      - room_background: '#f5f5f5'
    card:
      type: custom:stack-in-card
      mode: horizontal
      cards:
        - type: vertical-stack
          cards:
            - type: custom:mushroom-template-card
              primary: '[[name]]'
              secondary: >
                {% set temp = states('[[entity_id_temperature]]') %} {% set hum
                = states('[[entity_id_humidity]]') %} {% set unit =
                state_attr('weather.home', 'temperature_unit') or 'Â°C' %} {% set
                parts = [] %} {% if temp | is_number %}
                  {% set parts = parts + [temp | round(1) ~ unit] %}
                {% endif %} {% if hum | is_number %}
                  {% set parts = parts + [hum | round(1) ~ '%'] %}
                {% endif %} {{ parts | join(' / ') }}
              tap_action:
                action: navigate
                navigation_path: '[[navigation_path]]'
              card_mod:
                style: |
                  ha-card {
                    --primary-text-color: black;
                    border: 0;
                    padding: 5px 0 0 5px;
                    width: 500px;
                  }
            - type: custom:mushroom-template-card
              entity: '[[entity_id_lights]]'
              layout: horizontal
              icon: '[[icon]]'
              icon_color: >-
                {{ 'rgba(252, 242, 212, 1)' if is_state('[[entity_id_lights]]',
                'on') else 'rgba(91, 91, 91, 1)' }}
              tap_action:
                action: navigate
                navigation_path: '[[navigation_path]]'
              card_mod:
                style:
                  ha-tile-icon$: |
                    .container {
                      width: 120px !important;
                      height: 120px !important;
                      border-radius: 50%;
                    }   
                  .: |
                    ha-tile-icon {
                      --mdc-icon-size: 90px;
                    }
                    ha-card {
                      border: none;
                      margin: -8px 0 0 -28px;
                    }
        - type: custom:mushroom-chips-card
          chips:
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_ac_main]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_ac_main]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_ac]]'
                tap_action:
                  action: toggle
                icon: |
                  {% if is_state('[[entity_id_ac]]', 'off') %}
                    m3o:heat-pump
                  {% else %}
                    m3of:heat-pump
                  {% endif %}
                card_mod:
                  style: |
                    {% set ac_main = states('[[entity_id_ac_main]]') %}
                    {% set ac = states('[[entity_id_ac]]') %}
                    ha-card {
                      --chip-background: 
                        {% if ac == 'heat_cool' and ac_main == 'cool' %}
                          #b5e0f7
                        {% elif ac == 'heat_cool' and ac_main == 'heat' %}
                          #fa6f66
                        {% elif ac == 'heat_cool' and ac_main == 'fan_only' %}
                          #c3fae8
                        {% elif ac == 'heat_cool' and ac_main == 'dry' %}
                          #cfba74
                        {% elif ac == 'heat_cool' and ac_main == 'off' %}
                          #FFFFFF
                        {% else %}
                          #353535
                        {% endif %};
                      --color: {% if ac == 'off' %} #dbdbdb {% else %} #353535 {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_lights]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_lights]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_lights]]'
                tap_action:
                  action: more-info
                icon: '[[lights_icon]]'
                content: >-
                  {{ states('[[lights_count_sensor]]') if
                  states('[[lights_count_sensor]]') != '0' else '' }}
                card_mod:
                  style: |
                    {% set light_state = states('[[entity_id_lights]]') %}
                    {% set is_on = light_state == 'on' %}
                    ha-card {
                      --chip-background: {% if is_on %} #fcf2d4 {% else %} #353535 {% endif %};
                      --color: {% if is_on %} #5b5326 {% else %} #dbdbdb {% endif %};
                      --text-color: {% if is_on %} #5b5326 {% else %} #dbdbdb {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_covers]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_covers]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_covers]]'
                tap_action:
                  action: more-info
                icon: >
                  {% if is_state('[[entity_id_covers]]', 'open') or
                  is_state('[[entity_id_covers]]', 'opening') %}
                    m3of:curtains
                  {% else %}
                    m3of:curtains-closed
                  {% endif %}
                content: >-
                  {{ states('[[covers_count_sensor]]') if
                  states('[[covers_count_sensor]]') != '0' else '' }}
                card_mod:
                  style: |
                    {% set cover_state = states('[[entity_id_covers]]') %}
                    {% set is_on = cover_state in ['open', 'opening'] %}
                    ha-card {
                      --chip-background: {% if is_on %} #702963 {% else %} #353535 {% endif %};
                      --color: {% if is_on %} #ffffff {% else %} #dbdbdb {% endif %};
                      --text-color: {% if is_on %} #ffffff {% else %} #dbdbdb {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_fans]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_fans]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_fans]]'
                tap_action:
                  action: more-info
                icon: |
                  {% if is_state('[[entity_id_fans]]', 'on') %}
                    mdi:fan
                  {% else %}
                    mdi:fan-off
                  {% endif %}
                content: >-
                  {{ states('[[fans_count_sensor]]') if
                  states('[[fans_count_sensor]]') != '0' else '' }}
                card_mod:
                  style: |
                    {% set fan_state = states('[[entity_id_fans]]') %}
                    {% set is_on = fan_state == 'on' %}
                    ha-card {
                      --chip-background: {% if is_on %} #89CFF0 {% else %} #353535 {% endif %};
                      --color: {% if is_on %} #000000 {% else %} #dbdbdb {% endif %};
                      --text-color: {% if is_on %} #000000 {% else %} #dbdbdb {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_speakers]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_speakers]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_speakers]]'
                tap_action:
                  action: more-info
                icon: >
                  {% if is_state('[[entity_id_speakers]]', 'on') or
                  is_state('[[entity_id_speakers]]', 'playing') or
                  is_state('[[entity_id_speakers]]', 'paused') %}
                    mdi:speaker
                  {% else %}
                    mdi:speaker-off
                  {% endif %}
                content: >-
                  {{ states('[[speakers_count_sensor]]') if
                  states('[[speakers_count_sensor]]') != '0' else '' }}
                card_mod:
                  style: >
                    {% set speaker_state = states('[[entity_id_speakers]]') %}

                    {% set is_on = speaker_state in ['on', 'playing', 'paused']
                    %}

                    ha-card {
                      --chip-background: {% if is_on %} #AFE1AF {% else %} #353535 {% endif %};
                      --color: {% if is_on %} #ffffff {% else %} #dbdbdb {% endif %};
                      --text-color: {% if is_on %} #ffffff {% else %} #dbdbdb {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_windows]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_windows]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_windows]]'
                tap_action:
                  action: more-info
                icon: |
                  {% if is_state('[[entity_id_windows]]', 'on') %}
                    m3of:window-open
                  {% else %}
                    m3of:window-closed
                  {% endif %}
                content: >-
                  {{ states('[[windows_count_sensor]]') if
                  states('[[windows_count_sensor]]') != '0' else '' }}
                card_mod:
                  style: |
                    {% set window_state = states('[[entity_id_windows]]') %}
                    {% set is_on = window_state == 'on' %}
                    ha-card {
                      --chip-background: {% if is_on %} #ffaa00 {% else %} #353535 {% endif %};
                      --color: {% if is_on %} #ffffff {% else %} #dbdbdb {% endif %};
                      --text-color: {% if is_on %} #ffffff {% else %} #dbdbdb {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_doors]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_doors]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_doors]]'
                tap_action:
                  action: more-info
                icon: |
                  {% if is_state('[[entity_id_doors]]', 'on') %}
                    m3o:door-open
                  {% else %}
                    m3of:door-front
                  {% endif %}
                content: >-
                  {{ states('[[doors_count_sensor]]') if
                  states('[[doors_count_sensor]]') != '0' else '' }}
                card_mod:
                  style: |
                    {% set door_state = states('[[entity_id_doors]]') %}
                    {% set is_on = door_state == 'on' %}
                    ha-card {
                      --chip-background: {% if is_on %} #bc000a {% else %} #353535 {% endif %};
                      --color: {% if is_on %} #ffffff {% else %} #dbdbdb {% endif %};
                      --text-color: {% if is_on %} #ffffff {% else %} #dbdbdb {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_custom_1]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_custom_1]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_custom_1]]'
                tap_action:
                  action: more-info
                icon: >
                  {% set current_state = states('[[entity_id_custom_1]]') %} {%
                  set is_active = current_state in ['on', 'playing', 'paused',
                  'locked'] and current_state not in ['docked', 'off', 'idle',
                  'unavailable', 'unknown', 'unlocked'] %} {% if is_active %}
                    [[custom_1_icon_active]]
                  {% else %}
                    [[custom_1_icon_inactive]]
                  {% endif %}
                card_mod:
                  style: >
                    {% set current_state = states('[[entity_id_custom_1]]') %}

                    {% set is_active = current_state in ['on', 'playing',
                    'paused', 'locked'] and current_state not in ['docked',
                    'off', 'idle', 'unavailable', 'unknown', 'unlocked'] %}

                    ha-card {
                      --chip-background: {% if is_active %} [[custom_1_color]] {% else %} #353535 {% endif %};
                      --color: {% if is_active %} #ffffff {% else %} #dbdbdb {% endif %};
                      --text-color: {% if is_active %} #ffffff {% else %} #dbdbdb {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_custom_2]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_custom_2]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_custom_2]]'
                tap_action:
                  action: more-info
                icon: >
                  {% set current_state = states('[[entity_id_custom_2]]') %} {%
                  set is_active = current_state in ['on', 'playing', 'paused',
                  'locked'] and current_state not in ['docked', 'off', 'idle',
                  'unavailable', 'unknown', 'unlocked'] %} {% if is_active %}
                    [[custom_2_icon_active]]
                  {% else %}
                    [[custom_2_icon_inactive]]
                  {% endif %}
                card_mod:
                  style: >
                    {% set current_state = states('[[entity_id_custom_2]]') %}

                    {% set is_active = current_state in ['on', 'playing',
                    'paused', 'locked'] and current_state not in ['docked',
                    'off', 'idle', 'unavailable', 'unknown', 'unlocked'] %}

                    ha-card {
                      --chip-background: {% if is_active %} [[custom_2_color]] {% else %} #353535 {% endif %};
                      --color: {% if is_active %} #ffffff {% else %} #dbdbdb {% endif %};
                      --text-color: {% if is_active %} #ffffff {% else %} #dbdbdb {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_custom_3]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_custom_3]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_custom_3]]'
                tap_action:
                  action: more-info
                icon: >
                  {% set current_state = states('[[entity_id_custom_3]]') %} {%
                  set is_active = current_state in ['on', 'playing', 'paused',
                  'locked'] and current_state not in ['docked', 'off', 'idle',
                  'unavailable', 'unknown', 'unlocked'] %} {% if is_active %}
                    [[custom_3_icon_active]]
                  {% else %}
                    [[custom_3_icon_inactive]]
                  {% endif %}
                card_mod:
                  style: >
                    {% set current_state = states('[[entity_id_custom_3]]') %}

                    {% set is_active = current_state in ['on', 'playing',
                    'paused', 'locked'] and current_state not in ['docked',
                    'off', 'idle', 'unavailable', 'unknown', 'unlocked'] %}

                    ha-card {
                      --chip-background: {% if is_active %} [[custom_3_color]] {% else %} #353535 {% endif %};
                      --color: {% if is_active %} #ffffff {% else %} #dbdbdb {% endif %};
                      --text-color: {% if is_active %} #ffffff {% else %} #dbdbdb {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_custom_4]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_custom_4]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_custom_4]]'
                tap_action:
                  action: more-info
                icon: >
                  {% set current_state = states('[[entity_id_custom_4]]') %} {%
                  set is_active = current_state in ['on', 'playing', 'paused',
                  'locked'] and current_state not in ['docked', 'off', 'idle',
                  'unavailable', 'unknown', 'unlocked'] %} {% if is_active %}
                    [[custom_4_icon_active]]
                  {% else %}
                    [[custom_4_icon_inactive]]
                  {% endif %}
                card_mod:
                  style: >
                    {% set current_state = states('[[entity_id_custom_4]]') %}

                    {% set is_active = current_state in ['on', 'playing',
                    'paused', 'locked'] and current_state not in ['docked',
                    'off', 'idle', 'unavailable', 'unknown', 'unlocked'] %}

                    ha-card {
                      --chip-background: {% if is_active %} [[custom_4_color]] {% else %} #353535 {% endif %};
                      --color: {% if is_active %} #ffffff {% else %} #dbdbdb {% endif %};
                      --text-color: {% if is_active %} #ffffff {% else %} #dbdbdb {% endif %};
                      height: 35px;
                      width: 35px;
                      border-radius: 22px;
                    }
          card_mod:
            style: |
              .chip-container {
                flex-flow: column wrap-reverse !important;
                display: flex !important;
                --chip-spacing: 8px;
                margin: 9px;
              }
      card_mod:
        style: |
          ha-card {
            {% set temp = states('[[entity_id_temperature]]') %}
            {% if temp in ['unavailable', 'unknown', ''] %}
              background: [[room_background]];
            {% else %}
              {% set t = temp | float %}
              background:
              {% if t < 13 %} #AC9CAF
              {% elif t < 16 %} #D7C4DB
              {% elif t < 19 %} #A3D9F5
              {% elif t < 22 %} #CDE3DB
              {% elif t < 24 %} #FFE599
              {% elif t < 27 %} #F7BE81
              {% else %} #E48F7B {% endif %};
            {% endif %}
            height: 186px;
            contain: layout paint;
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            animation:
              reveal 0s linear [[animation_delay]] forwards,
              fadeIn 0.35s ease-out [[animation_delay]] forwards;
          }
          @keyframes reveal {
            to { visibility: visible; }
          }
          @keyframes fadeIn {
            to { opacity: 1; }
          }
  room_toggles_chip_card:
    variables:
      - entity_area_one: ''
      - entity_area_two: ''
      - entity_area_three: ''
      - entity_area_four: ''
      - area_one_name: ''
      - area_two_name: ''
      - area_three_name: ''
      - area_four_name: ''
      - area_one_icon: ''
      - area_two_icon: ''
      - area_three_icon: ''
      - area_four_icon: ''
      - alignment: ''
      - animation_delay: 0s
    card:
      type: custom:mushroom-chips-card
      chips:
        - type: conditional
          conditions:
            - condition: state
              entity: '[[entity_area_one]]'
              state_not: unknown
            - condition: state
              entity: '[[entity_area_one]]'
              state_not: unavailable
          chip:
            type: template
            entity: '[[entity_area_one]]'
            icon: '[[area_one_icon]]'
            content: |-
              {% if is_state(entity, 'on') %} 
                [[area_one_name]]
              {% else %}
              {% endif %}
            tap_action:
              action: toggle
            card_mod:
              style:
                .: |
                  ha-card {
                    --text-color: var(--md-sys-color-primary);
                    --color: var(--md-sys-color-primary);
                    --chip-background: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_area_one]]', 'on') else none }};
                    animation: slideInLeft 0.6s ease-out calc([[animation_delay]] + 0s) both;
                  }
                  @keyframes slideInLeft {
                    from { 
                      opacity: 0;
                      transform: translateX(-40px);
                    }
                    to { 
                      opacity: 1;
                      transform: translateX(0);
                    }
                  }
        - type: conditional
          conditions:
            - condition: state
              entity: '[[entity_area_two]]'
              state_not: unknown
            - condition: state
              entity: '[[entity_area_two]]'
              state_not: unavailable
          chip:
            type: template
            entity: '[[entity_area_two]]'
            icon: '[[area_two_icon]]'
            content: |-
              {% if is_state(entity, 'on') %} 
                [[area_two_name]]
              {% else %}
              {% endif %}
            tap_action:
              action: toggle
            card_mod:
              style:
                .: |
                  ha-card {
                    --text-color: var(--md-sys-color-primary);
                    --color: var(--md-sys-color-primary);
                    --chip-background: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_area_two]]', 'on') else none }};
                    animation: slideInLeft 0.6s ease-out calc([[animation_delay]] + 0.2s) both;
                  }
                  @keyframes slideInLeft {
                    from { 
                      opacity: 0;
                      transform: translateX(-40px);
                    }
                    to { 
                      opacity: 1;
                      transform: translateX(0);
                    }
                  }
        - type: conditional
          conditions:
            - condition: state
              entity: '[[entity_area_three]]'
              state_not: unknown
            - condition: state
              entity: '[[entity_area_three]]'
              state_not: unavailable
          chip:
            type: template
            entity: '[[entity_area_three]]'
            icon: '[[area_three_icon]]'
            content: |-
              {% if is_state(entity, 'on') %} 
                [[area_three_name]]
              {% else %}
              {% endif %}
            tap_action:
              action: toggle
            card_mod:
              style:
                .: |
                  ha-card {
                    --text-color: var(--md-sys-color-primary);
                    --color: var(--md-sys-color-primary);
                    --chip-background: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_area_three]]', 'on') else none }};
                    animation: slideInLeft 0.6s ease-out calc([[animation_delay]] + 0.4s) both;
                  }
                  @keyframes slideInLeft {
                    from { 
                      opacity: 0;
                      transform: translateX(-40px);
                    }
                    to { 
                      opacity: 1;
                      transform: translateX(0);
                    }
                  }
        - type: conditional
          conditions:
            - condition: state
              entity: '[[entity_area_four]]'
              state_not: unknown
            - condition: state
              entity: '[[entity_area_four]]'
              state_not: unavailable
          chip:
            type: template
            entity: '[[entity_area_four]]'
            icon: '[[area_four_icon]]'
            content: |-
              {% if is_state(entity, 'on') %} 
                [[area_four_name]]
              {% else %}
              {% endif %}
            tap_action:
              action: toggle
            card_mod:
              style:
                .: |
                  ha-card {
                    --text-color: var(--md-sys-color-primary);
                    --color: var(--md-sys-color-primary);
                    --chip-background: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_area_four]]', 'on') else none }};
                    animation: slideInLeft 0.6s ease-out calc([[animation_delay]] + 0.6s) both;
                  }
                  @keyframes slideInLeft {
                    from { 
                      opacity: 0;
                      transform: translateX(-40px);
                    }
                    to { 
                      opacity: 1;
                      transform: translateX(0);
                    }
                  }
      alignment: '[[alignment]]'
  room_nav_boolean_chip_card:
    variables:
      - button_one: ''
      - button_two: ''
      - button_three: ''
      - button_four: ''
      - button_one_icon: ''
      - button_two_icon: ''
      - button_three_icon: ''
      - button_four_icon: ''
      - alignment: ''
      - margin-top: ''
    card:
      type: custom:mushroom-chips-card
      chips:
        - type: conditional
          conditions:
            - condition: state
              entity: '[[button_one]]'
              state_not: unknown
            - condition: state
              entity: '[[button_one]]'
              state_not: unavailable
          chip:
            type: template
            entity: '[[button_one]]'
            icon: '[[button_one_icon]]'
            tap_action:
              action: toggle
            card_mod:
              style:
                .: |
                  ha-card {
                    --text-color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[button_one]]', 'on') else 'var(--md-sys-color-primary)' }};
                    --color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[button_one]]', 'on') else 'var(--md-sys-color-primary)' }};
                    --chip-background: {{ 'var(--md-sys-color-primary)' if is_state('[[button_one]]', 'on') else none }};
                  }
        - type: conditional
          conditions:
            - condition: state
              entity: '[[button_two]]'
              state_not: unknown
            - condition: state
              entity: '[[button_two]]'
              state_not: unavailable
          chip:
            type: template
            entity: '[[button_two]]'
            icon: '[[button_two_icon]]'
            tap_action:
              action: toggle
            card_mod:
              style:
                .: |
                  ha-card {
                    --text-color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[button_two]]', 'on') else 'var(--md-sys-color-primary)' }};
                    --color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[button_two]]', 'on') else 'var(--md-sys-color-primary)' }};
                    --chip-background: {{ 'var(--md-sys-color-primary)' if is_state('[[button_two]]', 'on') else none }};
                  }
        - type: conditional
          conditions:
            - condition: state
              entity: '[[button_three]]'
              state_not: unknown
            - condition: state
              entity: '[[button_three]]'
              state_not: unavailable
          chip:
            type: template
            entity: '[[button_three]]'
            icon: '[[button_three_icon]]'
            tap_action:
              action: toggle
            card_mod:
              style:
                .: |
                  ha-card {
                    --text-color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[button_three]]', 'on') else 'var(--md-sys-color-primary)' }};
                    --color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[button_three]]', 'on') else 'var(--md-sys-color-primary)' }};
                    --chip-background: {{ 'var(--md-sys-color-primary)' if is_state('[[button_three]]', 'on') else none }};
                  }
        - type: conditional
          conditions:
            - condition: state
              entity: '[[button_four]]'
              state_not: unknown
            - condition: state
              entity: '[[button_four]]'
              state_not: unavailable
          chip:
            type: template
            entity: '[[button_four]]'
            icon: '[[button_four_icon]]'
            tap_action:
              action: toggle
            card_mod:
              style:
                .: |
                  ha-card {
                    --text-color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[button_four]]', 'on') else 'var(--md-sys-color-primary)' }};
                    --color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[button_four]]', 'on') else 'var(--md-sys-color-primary)' }};
                    --chip-background: {{ 'var(--md-sys-color-primary)' if is_state('[[button_four]]', 'on') else none }};
                  }
      alignment: '[[alignment]]'
      card_mod:
        style: |
          ha-card {
            margin-top: [[margin-top]];
          }
  open_windows_card:
    variables:
      title: ''
      window_1: ''
      window_2: ''
      window_3: ''
      window_4: ''
    card:
      type: conditional
      conditions:
        - condition: or
          conditions:
            - condition: state
              entity: '[[window_1]]'
              state: 'on'
            - condition: state
              entity: '[[window_2]]'
              state: 'on'
            - condition: state
              entity: '[[window_3]]'
              state: 'on'
            - condition: state
              entity: '[[window_4]]'
              state: 'on'
      card:
        type: vertical-stack
        cards:
          - type: custom:streamline-card
            template: title_card
            variables:
              title: '[[title]]'
          - type: grid
            columns: 2
            square: false
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: '[[window_1]]'
                    state: 'on'
                card:
                  type: custom:material-button-card
                  use_default_icon: false
                  use_default_toggle: true
                  use_default_text: false
                  se_default_text: true
                  entity: '[[window_1]]'
                  height: 97
                  control_type: generic
                  icon: m3of:window-open
                  text_on: Open
                  text_off: Closed
              - type: conditional
                conditions:
                  - condition: state
                    entity: '[[window_2]]'
                    state: 'on'
                card:
                  type: custom:material-button-card
                  use_default_icon: false
                  use_default_toggle: true
                  use_default_text: false
                  se_default_text: true
                  entity: '[[window_2]]'
                  height: 97
                  control_type: generic
                  icon: m3of:window-open
                  text_on: Open
                  text_off: Closed
              - type: conditional
                conditions:
                  - condition: state
                    entity: '[[window_3]]'
                    state: 'on'
                card:
                  type: custom:material-button-card
                  use_default_icon: false
                  use_default_toggle: true
                  use_default_text: false
                  se_default_text: true
                  entity: '[[window_3]]'
                  height: 97
                  control_type: generic
                  icon: m3of:window-open
                  text_on: Open
                  text_off: Closed
              - type: conditional
                conditions:
                  - condition: state
                    entity: '[[window_4]]'
                    state: 'on'
                card:
                  type: custom:material-button-card
                  use_default_icon: false
                  use_default_toggle: true
                  use_default_text: false
                  se_default_text: true
                  entity: '[[window_4]]'
                  height: 97
                  control_type: generic
                  icon: m3of:window-open
                  text_on: Open
                  text_off: Closed
  open_doors_card:
    variables:
      title: ''
      door_1: ''
      door_2: ''
      door_3: ''
      door_4: ''
    card:
      type: conditional
      conditions:
        - condition: or
          conditions:
            - condition: state
              entity: '[[door_1]]'
              state: 'on'
            - condition: state
              entity: '[[door_2]]'
              state: 'on'
            - condition: state
              entity: '[[door_3]]'
              state: 'on'
            - condition: state
              entity: '[[door_4]]'
              state: 'on'
      card:
        type: vertical-stack
        cards:
          - type: custom:streamline-card
            template: title_card
            variables:
              title: '[[title]]'
          - type: grid
            columns: 2
            square: false
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: '[[door_1]]'
                    state: 'on'
                card:
                  type: custom:material-button-card
                  use_default_icon: false
                  use_default_toggle: true
                  use_default_text: false
                  se_default_text: true
                  entity: '[[door_1]]'
                  height: 97
                  control_type: generic
                  icon: m3of:door-open
                  text_on: Open
                  text_off: Closed
              - type: conditional
                conditions:
                  - condition: state
                    entity: '[[door_2]]'
                    state: 'on'
                card:
                  type: custom:material-button-card
                  use_default_icon: false
                  use_default_toggle: true
                  use_default_text: false
                  se_default_text: true
                  entity: '[[door_2]]'
                  height: 97
                  control_type: generic
                  icon: m3of:door-open
                  text_on: Open
                  text_off: Closed
              - type: conditional
                conditions:
                  - condition: state
                    entity: '[[door_3]]'
                    state: 'on'
                card:
                  type: custom:material-button-card
                  use_default_icon: false
                  use_default_toggle: true
                  use_default_text: false
                  se_default_text: true
                  entity: '[[door_3]]'
                  height: 97
                  control_type: generic
                  icon: m3of:door-open
                  text_on: Open
                  text_off: Closed
              - type: conditional
                conditions:
                  - condition: state
                    entity: '[[door_4]]'
                    state: 'on'
                card:
                  type: custom:material-button-card
                  use_default_icon: false
                  use_default_toggle: true
                  use_default_text: false
                  se_default_text: true
                  entity: '[[door_4]]'
                  height: 97
                  control_type: generic
                  icon: m3of:door-open
                  text_on: Open
                  text_off: Closed
  entity_count_card:
    variables:
      entity: ''
      title: ''
      icon: ''
      color: ''
    card:
      type: conditional
      conditions:
        - condition: state
          entity: '[[entity]]'
          state:
            - 'on'
            - open
      card:
        type: horizontal-stack
        cards:
          - type: custom:streamline-card
            template: title_card
            variables:
              - title: '[[title]]'
          - type: custom:mushroom-chips-card
            alignment: end
            chips:
              - type: template
                content: |
                  {{ expand('[[entity]]')
                     | selectattr('state', 'in', ['on', 'open'])
                     | list
                     | count }}
                icon: '[[icon]]'
                icon_color: '[[color]]'
                tap_action:
                  action: none
            card_mod:
              style: |
                ha-card {
                  margin-top: 1.6em;
                }
  camera_generic_with_chips_card:
    default:
      - camera_entity: ''
      - camera_height: ''
      - entity_id_light_one: ''
      - entity_id_light_two: ''
      - light_one_icon: ''
      - light_two_icon: ''
      - animation_delay: 0s
    variables:
      - camera_entity
      - camera_height
      - entity_id_light_one
      - entity_id_light_two
      - light_one_icon
      - light_two_icon
      - animation_delay
    card:
      type: vertical-stack
      cards:
        - type: custom:webrtc-camera
          streams:
            - entity: '[[camera_entity]]'
          muted: true
          card_mod:
            style: |
              ha-card {
                height: [[camera_height]];
                overflow: hidden;
                animation: fadeIn 2.5s ease-out [[animation_delay]] both;
              }
              @keyframes fadeIn {
                from { 
                  opacity: 0;
                }
                to { 
                  opacity: 1;
                }
              }
        - type: custom:mushroom-chips-card
          alignment: start
          chips:
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_light_one]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_light_one]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_light_one]]'
                icon: '[[light_one_icon]]'
                tap_action:
                  action: toggle
                content: |
                  {{ states['[[entity_id_light_one]]'].name }}
                card_mod:
                  style:
                    .: |
                      ha-card {
                        --text-color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_id_light_one]]', 'on') else 'var(--md-sys-color-primary)' }};
                        --color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_id_light_one]]', 'on') else 'var(--md-sys-color-primary)' }};
                        --chip-background: {{ 'var(--md-sys-color-primary)' if is_state('[[entity_id_light_one]]', 'on') else 'var(--md-sys-color-on-primary)' }};
                        animation: slideInLeft 0.6s ease-out calc([[animation_delay]] + 0.3s) both;
                      }
                      @keyframes slideInLeft {
                        from { 
                          opacity: 0;
                          transform: translateX(-40px);
                        }
                        to { 
                          opacity: 1;
                          transform: translateX(0);
                        }
                      }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_light_two]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_light_two]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_light_two]]'
                icon: '[[light_two_icon]]'
                tap_action:
                  action: toggle
                content: |
                  {{ states['[[entity_id_light_two]]'].name }}
                card_mod:
                  style:
                    .: |
                      ha-card {
                        --text-color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_id_light_two]]', 'on') else 'var(--md-sys-color-primary)' }};
                        --color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_id_light_two]]', 'on') else 'var(--md-sys-color-primary)' }};
                        --chip-background: {{ 'var(--md-sys-color-primary)' if is_state('[[entity_id_light_two]]', 'on') else 'var(--md-sys-color-on-primary)' }};
                        animation: slideInLeft 0.6s ease-out calc([[animation_delay]] + 0.5s) both;
                      }
                      @keyframes slideInLeft {
                        from { 
                          opacity: 0;
                          transform: translateX(-40px);
                        }
                        to { 
                          opacity: 1;
                          transform: translateX(0);
                        }
                      }
  camera_rtsp_with_chips_card:
    default:
      - camera_url: ''
      - camera_height: ''
      - entity_id_light_one: ''
      - entity_id_light_two: ''
      - light_one_icon: ''
      - light_two_icon: ''
      - animation_delay: 0s
    variables:
      - camera_url
      - camera_height
      - entity_id_light_one
      - entity_id_light_two
      - light_one_icon
      - light_two_icon
      - animation_delay
    card:
      type: vertical-stack
      cards:
        - type: custom:webrtc-camera
          url: '[[camera_url]]'
          card_mod:
            style: |
              ha-card {
                height: [[camera_height]];
                overflow: hidden;
                animation: fadeIn 2.5s ease-out [[animation_delay]] both;
              }
              @keyframes fadeIn {
                from { 
                  opacity: 0;
                }
                to { 
                  opacity: 1;
                }
              }
        - type: custom:mushroom-chips-card
          alignment: start
          chips:
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_light_one]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_light_one]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_light_one]]'
                icon: '[[light_one_icon]]'
                tap_action:
                  action: toggle
                content: |
                  {{ states['[[entity_id_light_one]]'].name }}
                card_mod:
                  style:
                    .: |
                      ha-card {
                        --text-color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_id_light_one]]', 'on') else 'var(--md-sys-color-primary)' }};
                        --color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_id_light_one]]', 'on') else 'var(--md-sys-color-primary)' }};
                        --chip-background: {{ 'var(--md-sys-color-primary)' if is_state('[[entity_id_light_one]]', 'on') else 'var(--md-sys-color-on-primary)' }};
                        animation: slideInLeft 0.6s ease-out calc([[animation_delay]] + 0.3s) both;
                      }
                      @keyframes slideInLeft {
                        from { 
                          opacity: 0;
                          transform: translateX(-40px);
                        }
                        to { 
                          opacity: 1;
                          transform: translateX(0);
                        }
                      }
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_id_light_two]]'
                  state_not: unknown
                - condition: state
                  entity: '[[entity_id_light_two]]'
                  state_not: unavailable
              chip:
                type: template
                entity: '[[entity_id_light_two]]'
                icon: '[[light_two_icon]]'
                tap_action:
                  action: toggle
                content: |
                  {{ states['[[entity_id_light_two]]'].name }}
                card_mod:
                  style:
                    .: |
                      ha-card {
                        --text-color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_id_light_two]]', 'on') else 'var(--md-sys-color-primary)' }};
                        --color: {{ 'var(--md-sys-color-on-primary)' if is_state('[[entity_id_light_two]]', 'on') else 'var(--md-sys-color-primary)' }};
                        --chip-background: {{ 'var(--md-sys-color-primary)' if is_state('[[entity_id_light_two]]', 'on') else 'var(--md-sys-color-on-primary)' }};
                        animation: slideInLeft 0.6s ease-out calc([[animation_delay]] + 0.5s) both;
                      }
                      @keyframes slideInLeft {
                        from { 
                          opacity: 0;
                          transform: translateX(-40px);
                        }
                        to { 
                          opacity: 1;
                          transform: translateX(0);
                        }
                      }
  media_player_card:
    variables:
      entity: ''
      name: ''
    card:
      type: custom:mushroom-media-player-card
      entity: '[[entity]]'
      name: '[[name]]'
      fill_container: true
      use_media_info: true
      show_volume_level: true
      layout: vertical
      collapsible_controls: true
      volume_controls:
        - volume_buttons
        - volume_set
      media_controls:
        - on_off
      grid_options:
        columns: full
      card_mod:
        style:
          .: |
            ha-state-icon {
              color: {{ 'var(--primary-background-color)' if is_state('[[entity]]', ['on', 'playing', 'paused', 'idle']) else 'none' }};
            }
          mushroom-shape-icon$: |
            .shape {
              --shape-color: {{ 'var(--md-sys-color-secondary)' if is_state('[[entity]]', ['on', 'playing', 'paused', 'idle']) else 'color-mix(in srgb, var(--md-sys-color-surface-variant) 40%, transparent)' }};
            }
          mushroom-media-player-volume-control$: |
            mushroom-slider {
              --main-color: var(--md-sys-color-on-secondary) !important;
              --bg-color: var(--md-sys-color-secondary) !important;
            }
  curtain_card:
    variables:
      entity: ''
      name: ''
    card:
      type: custom:mushroom-cover-card
      entity: '[[entity]]'
      show_position_control: true
      show_buttons_control: true
      show_tilt_position_control: false
      card_mod:
        style:
          .: |
            ha-state-icon {
              color: {{ 'var(--primary-background-color)' if is_state('[[entity]]', 'open') else 'var(--primary-text-color)' }};
            }
          mushroom-shape-icon$: |
            .shape {
              --shape-color: {{ 'var(--md-sys-color-secondary)' if is_state('[[entity]]', 'open') else none }};
          mushroom-cover-position-control$: |
            mushroom-slider {
                --main-color: var(--md-sys-color-primary) !important;
                --bg-color: color-mix(in srgb, var(--md-sys-color-primary) 70%, transparent) !important;
          mushroom-cover-tilt-position-control$: |
            mushroom-slider {
                --main-color: var(--md-sys-color-primary) !important;
                --bg-color: color-mix(in srgb, var(--md-sys-color-primary) 70%, transparent) !important;
              }
  number_slider_card:
    variables:
      entity: ''
    card:
      type: custom:mushroom-number-card
      entity: '[[entity]]'
      display_mode: slider
      fill_container: true
      card_mod:
        style:
          .: |
            ha-state-icon {
              color: var(--primary-background-color);
            }
          mushroom-shape-icon$: |
            .shape {
              --shape-color: var(--md-sys-color-secondary) !important;
            }
          mushroom-number-value-control$: |
            mushroom-slider {
              --main-color: var(--md-sys-color-primary) !important;
              --bg-color: var(--md-sys-color-secondary) !important;
            }
  select_card:
    variables:
      entity: ''
      name: ''
      icon: ''
    card:
      type: custom:mushroom-select-card
      entity: '[[entity]]'
      name: '[[name]]'
      icon: '[[icon]]'
      fill_container: true
      card_mod:
        style:
          .: |
            ha-state-icon {
              color: var(--md-sys-color-secondary);
            }
          mushroom-shape-icon$: |
            .shape {
              --shape-color: none !important;
            }
          mushroom-select-option-control$:
            mushroom-select$: |
              mwc-menu {
                --mdc-theme-text-primary-on-background: var(--primary-text-color);
                --mdc-theme-primary: var(--primary-color);
                --mdc-theme-surface: inherit;
              }
  scene_title_card:
    variables:
      subtitle: ''
      animation_delay: 0s
    card:
      type: custom:mushroom-title-card
      subtitle: '[[subtitle]]'
      card_mod:
        style: |
          ha-card {
            animation: fadeIn 0.4s ease-out [[animation_delay]] both;
          }
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
  scene_button_card:
    variables:
      img_path: ''
      scene_value: ''
    card:
      type: custom:button-card
      entity_picture: '[[img_path]]'
      show_entity_picture: true
      aspect_ratio: 5/3
      styles:
        card:
          - padding: 0px
        entity_picture:
          - width: 100%
          - height: 100%
          - object-fit: cover
      tap_action:
        action: call-service
        service: input_text.set_value
        service_data:
          entity_id: input_text.dynamic_scene_selected
          value: '[[scene_value]]'
  toggle_chip:
    default:
      - entity_id: ''
      - chip_icon: ''
      - chip_color: ''
      - chip_label: ''
    card:
      type: template
      entity: '[[entity_id]]'
      icon: '[[chip_icon]]'
      icon_color: >-
        {% if is_state('[[entity_id]]', 'on') %}[[chip_color]]{% else
        %}var(--primary-text-color){% endif %}
      tap_action:
        action: toggle
      content: '{% if is_state(''[[entity_id]]'', ''on'') %}[[chip_label]]{% endif %}'
  material_light_slider_card:
    variables:
      entity: ''
      name: ''
    card:
      type: custom:material-slider-card
      entity: '[[entity]]'
      icon: m3of:lightbulb
      show_percentage: true
      bold_text: false
  material_custom_icon_slider_card:
    variables:
      entity: ''
      name: ''
      icon: ''
    card:
      type: custom:material-slider-card
      entity: '[[entity]]'
      icon: '[[icon]]'
      show_percentage: true
      bold_text: false
  material_light_button_card:
    variables:
      entity: ''
      name: ''
    card:
      type: custom:material-button-card
      use_default_icon: false
      use_default_toggle: true
      use_default_text: true
      entity: '[[entity]]'
      icon: m3of:lightbulb
      height: 97
      control_type: generic
      dual_icon: true
      icon_on: m3of:lightbulb
      icon_off: m3of:light-off
  material_switch_button_card:
    variables:
      entity: ''
      name: ''
    card:
      type: custom:material-button-card
      use_default_icon: false
      use_default_toggle: true
      use_default_text: true
      entity: '[[entity]]'
      icon: m3of:lightbulb
      height: 97
      control_type: generic
      dual_icon: true
      icon_on: m3of:switch
      icon_off: m3o:switch
  material_custom_icon_button_card:
    variables:
      entity: ''
      name: ''
      icon: ''
    card:
      type: custom:material-button-card
      use_default_icon: false
      use_default_toggle: true
      use_default_text: true
      entity: '[[entity]]'
      icon: '[[icon]]'
      height: 97
      control_type: generic
      dual_icon: false
  material_custom_icon_with_status_button_card:
    variables:
      entity: ''
      name: ''
      icon: ''
      text_on: ''
      text_off: ''
    card:
      type: custom:material-button-card
      use_default_icon: false
      use_default_toggle: true
      use_default_text: false
      entity: '[[entity]]'
      icon: '[[icon]]'
      height: 97
      control_type: generic
      dual_icon: false
      text_on: '[[text_on]]'
      text_off: '[[text_off]]'
  material_custom_dual_icon_button_card:
    variables:
      entity: ''
      name: ''
      icon: ''
      icon_on: ''
      icon_off: ''
    card:
      type: custom:material-button-card
      use_default_icon: false
      use_default_toggle: true
      use_default_text: true
      entity: '[[entity]]'
      icon_on: '[[icon_on]]'
      icon_off: '[[icon_off]]'
      height: 97
      control_type: generic
      dual_icon: true
  material_custom_dual_icon_with_status_button_card:
    variables:
      entity: ''
      name: ''
      icon: ''
      icon_on: ''
      icon_off: ''
      text_on: ''
      text_off: ''
    card:
      type: custom:material-button-card
      use_default_icon: false
      use_default_toggle: true
      use_default_text: false
      entity: '[[entity]]'
      icon_on: '[[icon_on]]'
      icon_off: '[[icon_off]]'
      height: 97
      control_type: generic
      dual_icon: true
      text_on: '[[text_on]]'
      text_off: '[[text_off]]'
  spacer_card:
    variables:
      padding: ''
    card:
      type: custom:button-card
      show_name: false
      show_icon: false
      tap_action:
        action: none
      styles:
        card:
          - background: none
          - box-shadow: none
          - padding: '[[padding]]'
  room_selector:
    card:
      type: vertical-stack
      cards:
        - type: custom:bubble-card
          card_type: pop-up
          hash: '#room-selector'
          name: Room Selector
          icon: m3of:gmail-rooms
          styles: |-
            #root {
              max-height: 100% !important;
              transition: transform var(--md-sys-motion-expressive-spatial-default) !important;
            }
            .bubble-pop-up-container {
              padding-bottom: 64px !important;
            }
          button_type: name
          sub_button:
            main: []
            bottom: []
          slider_fill_orientation: left
          slider_value_position: right
          margin_top_mobile: calc(100vh - 475px)
        - type: custom:simple-swipe-card
          auto_hide_pagination: 0
          auto_height: true
          cards:
            - type: custom:vertical-stack-in-card
              cards:
                - type: horizontal-stack
                  cards:
                    - type: custom:mushroom-template-card
                      icon: mdi:garage-variant
                      features_position: bottom
                      primary: Garage
                      color: '#ff595e'
                      vertical: true
                      tap_action:
                        action: navigate
                        navigation_path: /mobile-dashboard/garage
                    - type: custom:mushroom-template-card
                      icon: mdi:sofa
                      features_position: bottom
                      primary: Living Area
                      color: '#ff924c'
                      vertical: true
                      tap_action:
                        action: navigate
                        navigation_path: /mobile-dashboard/living-area
                - type: horizontal-stack
                  cards:
                    - type: custom:mushroom-template-card
                      icon: m3of:bed
                      features_position: bottom
                      primary: Master Bedroom
                      color: '#ffca3a'
                      vertical: true
                      tap_action:
                        action: navigate
                        navigation_path: /mobile-dashboard/master-bedroom
                    - type: custom:mushroom-template-card
                      icon: mdi:baby-carriage
                      features_position: bottom
                      primary: Baby Room
                      color: '#c5ca30'
                      vertical: true
                      tap_action:
                        action: navigate
                        navigation_path: /mobile-dashboard/baby-room
                - type: horizontal-stack
                  cards:
                    - type: custom:mushroom-template-card
                      icon: m3of:person-3
                      features_position: bottom
                      primary: Single Guest Room
                      color: '#8ac926'
                      vertical: true
                      tap_action:
                        action: navigate
                        navigation_path: /mobile-dashboard/single-guest-room
                    - type: custom:mushroom-template-card
                      icon: m3of:groups-2
                      features_position: bottom
                      primary: Multiple Guest Room
                      color: '#52a675'
                      vertical: true
                      tap_action:
                        action: navigate
                        navigation_path: /mobile-dashboard/multiple-guest-room
                - type: custom:streamline-card
                  template: spacer_card
                  variables:
                    padding: 20px
            - type: custom:vertical-stack-in-card
              cards:
                - type: horizontal-stack
                  cards:
                    - type: custom:mushroom-template-card
                      icon: mdi:table-furniture
                      features_position: bottom
                      primary: Entrance
                      color: '#1982c4'
                      vertical: true
                      tap_action:
                        action: navigate
                        navigation_path: /mobile-dashboard/entrance
                    - type: custom:mushroom-template-card
                      icon: m3of:computer
                      features_position: bottom
                      primary: Office
                      color: '#4267ac'
                      vertical: true
                      tap_action:
                        action: navigate
                        navigation_path: /mobile-dashboard/office
                - type: horizontal-stack
                  cards:
                    - type: custom:mushroom-template-card
                      icon: m3of:water-drop
                      features_position: bottom
                      primary: Guest Bathroom
                      color: '#6a4c93'
                      vertical: true
                      tap_action:
                        action: navigate
                        navigation_path: /mobile-dashboard/guest-bathroom
                    - type: custom:mushroom-template-card
                      icon: mdi:light-flood-down
                      features_position: bottom
                      primary: Driveway
                      color: '#b5a6c9'
                      vertical: true
                      tap_action:
                        action: navigate
                        navigation_path: /mobile-dashboard/driveway
                - type: custom:streamline-card
                  template: spacer_card
                  variables:
                    padding: 20px
          card_mod:
            style: |
              :host {
                --simple-swipe-card-pagination-dot-active-color: var(--md-sys-color-primary);
                --simple-swipe-card-pagination-dot-inactive-color: var(--md-sys-color-on-primary);
                --simple-swipe-card-pagination-dot-size: 7px;
              }
views:
  - title: Overview
    header:
      card:
        type: custom:stack-in-card
        mode: vertical
        cards:
          - type: custom:streamline-card
            template: date_clock_text_card
            variables:
              - title: '{{ now().strftime(''%a %b %-d - %I:%M %p'') }}'
          - type: custom:mushroom-chips-card
            chips:
              - type: conditional
                conditions:
                  - entity: alarm_control_panel.alarmo
                    state: triggered
                chip:
                  type: template
                  entity: alarm_control_panel.alarmo
                  content: Triggered
                  tap_action:
                    action: navigate
                    navigation_path: '#alarmo'
                  icon: mdi:bell-ring
                  icon_color: '#d14f3a'
              - type: conditional
                conditions:
                  - entity: alarm_control_panel.alarmo
                    state: armed_away
                chip:
                  type: template
                  entity: alarm_control_panel.alarmo
                  content: Armed
                  tap_action:
                    action: navigate
                    navigation_path: '#alarmo'
                  icon: mdi:shield-lock
                  icon_color: '#69ac5a'
              - type: conditional
                conditions:
                  - entity: alarm_control_panel.alarmo
                    state: arming
                chip:
                  type: template
                  entity: alarm_control_panel.alarmo
                  content: Arming
                  tap_action:
                    action: navigate
                    navigation_path: '#alarmo'
                  icon: mdi:shield
                  icon_color: '#efa340'
              - type: conditional
                conditions:
                  - entity: alarm_control_panel.alarmo
                    state: pending
                chip:
                  type: template
                  entity: alarm_control_panel.alarmo
                  content: Pending
                  tap_action:
                    action: navigate
                    navigation_path: '#alarmo'
                  icon: mdi:shield-outline
                  icon_color: '#efa340'
              - type: conditional
                conditions:
                  - entity: alarm_control_panel.alarmo
                    state: disarmed
                chip:
                  type: template
                  entity: alarm_control_panel.alarmo
                  tap_action:
                    action: navigate
                    navigation_path: '#alarmo'
                  icon: mdi:shield-off
              - type: conditional
                conditions:
                  - condition: numeric_state
                    entity: sensor.earthquake
                    above: 0
                chip:
                  type: template
                  entity: geonet.
                  tap_action:
                    action: navigate
                    navigation_path: /tablet-dashboard/notifications
                  icon: mdi:earth
                  icon_color: >
                    {% set mag =
                    state_attr('sensor.earthquake',
                    'magnitude') | float(0) %} {% if mag >= 6.0 %} #D32F2F {%
                    elif mag >= 5.0 %} #F4511E {% elif mag >= 4.0 %} #FB8C00 {%
                    elif mag >= 3.0 %} #F9A825 {% elif mag >= 2.0 %} #FBC02D {%
                    else %} #388E3C {% endif %}
              - type: conditional
                conditions:
                  - condition: numeric_state
                    entity: sensor.volcano_rotorua
                    above: 0
                chip:
                  type: template
                  entity: sensor.volcano_rotorua
                  tap_action:
                    action: navigate
                    navigation_path: /tablet-dashboard/notifications
                  icon: >
                    {{ state_attr('sensor.volcano_rotorua', 'icon') or
                    'mdi:image-filter-hdr' }}
                  icon_color: |
                    {% set level = states('sensor.volcano_rotorua') | int %}
                    {% if level == 5 %} red
                    {% elif level == 4 %} deep-orange
                    {% elif level == 3 %} orange
                    {% elif level == 2 %} amber
                    {% elif level == 1 %} yellow
                    {% else %} green
                    {% endif %}
              - type: conditional
                conditions:
                  - condition: state
                    entity: sensor.home_metservice_weather_warnings
                    state_not: unknown
                chip:
                  type: template
                  entity: sensor.home_metservice_weather_warnings
                  tap_action:
                    action: navigate
                    navigation_path: /tablet-dashboard/notifications
                  icon: mdi:alert
                  icon_color: orange
              - type: template
                entity: sensor.active_notification_count
                icon: mdi:bell
                tap_action:
                  action: navigate
                  navigation_path: '#notifications'
                hold_action:
                  action: none
                card_mod:
                  style: >
                    ha-card {
                      position: relative;
                      transition: transform 0.3s ease, box-shadow 0.3s ease;
                    }

                    {% set notifications =
                    states('sensor.active_notification_count') | int %}

                    {% if notifications > 0 %}

                    ha-card:after {
                      content: "{{ notifications }}";
                      position: absolute;
                      top: -3px;
                      right: -3px;
                      background-color: var(--md-sys-color-on-primary);
                      color: var(--md-sys-color-primary);
                      border-radius: 50%;
                      width: 16px;
                      height: 16px;
                      font-size: 10px;
                      line-height: 16px;
                      text-align: center;
                      display: inline-block;
                      font-weight: bold;

                    } {% endif %}
            alignment: end
            card_mod:
              style: |
                ha-card {
                  position: absolute;
                  top: 20px;
                  right: 5px;
                  animation: fadeInRight 0.5s ease-out;
                }
                @keyframes fadeInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
      layout: responsive
      badges_position: bottom
      badges_wrap: wrap
    type: sections
    max_columns: 4
    path: overview
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:mushroom-title-card
                title: |
                  {% set time = now().hour %} {% if time >= 18 %}
                    ð Evening, {{ user }}!
                  {% elif time >= 12 %}
                    âï¸ Afternoon, {{ user }}!
                  {% elif time >= 5 %}
                    ð Morning, {{ user }}!
                  {% else %}
                    ð Welcome, {{ user }}!
                  {% endif %}
                card_mod:
                  style: |
                    ha-card {
                      animation: fadeInUp 1.0s ease-out;
                    }
                    @keyframes fadeInUp {
                      from {
                        opacity: 0;
                        transform: translateY(20px);
                      }
                      to {
                        opacity: 1;
                        transform: translateY(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 6px 0 20px 0
                  width: 100%
                buttons:
                  - layout: name
                    name: Outside is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name|icon
                    entity: weather.home
                    name: >-
                      {% set temp = state_attr('weather.home', 'temperature') %}
                      {% set unit = state_attr('weather.home',
                      'temperature_unit') %} {% set condition =
                      states('weather.home') | title %} {% if
                      is_state('binary_sensor.outdoor_rain_sensor_water_leak',
                      'on') %}
                        {{ temp }} {{ unit }}, Raining
                      {% else %}
                        {{ temp }} {{ unit }}, {{ condition }}
                      {% endif %}
                    icon: >-
                      {% if
                      is_state('binary_sensor.outdoor_rain_sensor_water_leak',
                      'on') %}
                        mdi:weather-pouring
                      {% else %}
                        {{ states('sensor.weather_condition_icon') }}
                      {% endif %}
                    tap_action:
                      action: navigate
                      navigation_path: '#weather-panel'
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: Â· Wind
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: weather.home
                    name: >-
                      {% set weather = states.weather.home.attributes %} {{
                      weather.wind_speed }} {{ weather.wind_speed_unit }}
                    tap_action:
                      action: navigate
                      navigation_path: '#weather-panel'
                    styles:
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                  - layout: name
                    name: Â· High
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 1.1s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: weather.home
                    name: >-
                      {% set forecast =
                      state_attr('sensor.daily_weather_data_google_weather',
                      'forecast_data') %} {% if forecast is defined and
                      forecast.temperature is defined %}
                        {{ forecast.temperature }} {{ state_attr('weather.home', 'temperature_unit') }}ðº
                      {% else %}
                        N/A {{ state_attr('weather.home', 'temperature_unit') }}ðº
                      {% endif %}
                    tap_action:
                      action: navigate
                      navigation_path: '#weather-panel'
                    styles:
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        animation: slideInLeft 0.6s ease-out 1.3s both
                        transition: all 0.3s ease
                  - layout: name
                    name: Low
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 1.5s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: weather.home
                    name: >-
                      {% set forecast =
                      state_attr('sensor.daily_weather_data_google_weather',
                      'forecast_data') %} {% if forecast is defined and
                      forecast.temperature is defined %}
                        {{ forecast.templow }} {{ state_attr('weather.home', 'temperature_unit') }}ð»
                      {% else %}
                        N/A {{ state_attr('weather.home', 'temperature_unit') }}ð»
                      {% endif %}
                    tap_action:
                      action: navigate
                      navigation_path: '#weather-panel'
                    styles:
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        animation: slideInLeft 0.6s ease-out 1.7s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-on-primary)
              active-text-color: var(--md-sys-color-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Home
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:vertical-stack-in-card
                        cards:
                          - type: grid
                            square: false
                            columns: 2
                            cards:
                              - type: custom:mushroom-template-card
                                entity: sensor.house_average_temperature
                                primary: >
                                  {{ states(entity) | round(1) }} {{
                                  state_attr('weather.home', 'temperature_unit')
                                  }}
                                secondary: |
                                  Indoor
                                icon: >
                                  {% set hvac_mode = states('climate.heat_pump')
                                  %}

                                  {% if hvac_mode == 'heat' %} mdi:fire

                                  {% elif hvac_mode == 'cool' %} mdi:snowflake

                                  {% elif hvac_mode == 'fan_only' %} mdi:fan

                                  {% else %} m3of:thermometer

                                  {% endif %}
                                icon_color: >
                                  {% set hvac_mode = states('climate.heat_pump')
                                  %}

                                  {% if hvac_mode == 'heat' %} #FF6F22

                                  {% elif hvac_mode == 'cool' %} #2196F3

                                  {% elif hvac_mode == 'fan_only' %} #029688

                                  {% else %}
                                    {% set temp = states('sensor.house_average_temperature') | float %}
                                    {% if temp < 13 %}
                                      #B4A5B7
                                    {% elif temp < 16 %}          
                                      #DBC9DE
                                    {% elif temp < 19 %}
                                      #ACDCF6
                                    {% elif temp < 22 %}
                                      #D2E5DE
                                    {% elif temp < 24 %}
                                      #FFE7A3
                                    {% elif temp < 27 %}
                                      #F7C48D
                                    {% else %}
                                      #E37575
                                    {% endif %}
                                  {% endif %}
                                tap_action:
                                  action: more-info
                              - type: custom:mushroom-template-card
                                entity: sensor.outdoor_temperature
                                primary: >
                                  {{ states(entity) | round(1) }} {{
                                  state_attr('weather.home', 'temperature_unit')
                                  }}
                                secondary: |
                                  Outdoor
                                icon: '{{ states(''sensor.weather_condition_icon'') }}'
                                icon_color: >
                                  {% set temp = state_attr('weather.home',
                                  'temperature') | float %}

                                  {% if temp < 13 %}
                                    #988C9B
                                  {% elif temp < 16 %}          
                                    #BAABBD
                                  {% elif temp < 19 %}
                                    #92BB D1
                                  {% elif temp < 22 %}
                                    #B2C4BD
                                  {% elif temp < 24 %}
                                    #D8C48A
                                  {% elif temp < 27 %}
                                    #D2A676
                                  {% else %}
                                    #C26161
                                  {% endif %}
                                tap_action:
                                  action: more-info
                          - type: custom:config-template-card
                            entities:
                              - climate.heat_pump
                              - sensor.house_average_temperature
                              - sensor.outdoor_temperature
                            variables:
                              - states['climate.heat_pump'].state
                              - states['sensor.house_average_temperature'].state
                              - states['sensor.outdoor_temperature'].state
                            card:
                              type: custom:mini-graph-card
                              entities:
                                - entity: sensor.house_average_temperature
                                  name: Indoor
                                  color: |-
                                    ${vars[0] === 'heat' ? '#FF6F22' : 
                                      (vars[0] === 'cool' ? '#2196F3' : 
                                      (vars[0] === 'fan_only' ? '#029688' : 
                                      (vars[1] < 13 ? '#B4A5B7' :
                                      (vars[1] < 16 ? '#DBC9DE' :
                                      (vars[1] < 19 ? '#ACDCF6' :
                                      (vars[1] < 22 ? '#D2E5DE' :
                                      (vars[1] < 24 ? '#FFE7A3' :
                                      (vars[1] < 27 ? '#F7C48D' : '#E37575'))))))))}
                                - entity: sensor.outdoor_temperature
                                  name: Outdoor
                                  color: |-
                                    ${vars[2] < 13 ? '#988C9B' :
                                      (vars[2] < 16 ? '#BAABBD' :        
                                      (vars[2] < 19 ? '#92BBD1' :
                                      (vars[2] < 22 ? '#B2C4BD' :
                                      (vars[2] < 24 ? '#D8C48A' :
                                      (vars[2] < 27 ? '#D2A676' :'#C26161')))))}
                                  y_axis: secondary
                              hours_to_show: 24
                              line_width: 3
                              font_size: 50
                              animate: true
                              show:
                                name: false
                                icon: false
                                state: false
                                legend: false
                                fill: fade
                          - type: horizontal-stack
                            cards:
                              - type: custom:mushroom-climate-card
                                entity: climate.heat_pump
                                primary_info: none
                                secondary_info: none
                                icon_type: none
                                show_temperature_control: true
                              - type: custom:mushroom-climate-card
                                entity: climate.heat_pump
                                primary_info: none
                                secondary_info: none
                                icon_type: none
                                hvac_modes:
                                  - cool
                                  - heat
                                  - fan_only
                                  - 'off'
                          - type: custom:simple-swipe-card
                            auto_hide_pagination: 0
                            auto_height: true
                            cards:
                              - type: custom:vertical-stack-in-card
                                cards:
                                  - type: custom:button-card
                                    entity: sensor.disabled_room_occupancy_count
                                    name: Room Occupancy
                                    show_state: false
                                    show_icon: false
                                    show_label: true
                                    label: |-
                                      [[[ 
                                        const disabled = parseInt(entity.state);
                                        if (disabled === 0) return 'All rooms active';
                                        if (disabled === 1) return '1 room disabled';
                                        return `${disabled} rooms disabled`;
                                      ]]]
                                    styles:
                                      card:
                                        - background: >-
                                            var(--ha-card-background,
                                            var(--card-background-color, white))
                                        - border-radius: var(--ha-card-border-radius, 12px)
                                        - padding: 12px
                                      name:
                                        - text-align: center
                                        - font-size: 16px
                                        - font-weight: bold
                                      label:
                                        - text-align: center
                                        - font-size: 14px
                                        - color: var(--secondary-text-color)
                                    tap_action:
                                      action: none
                                  - type: custom:mushroom-chips-card
                                    alignment: center
                                    chips:
                                      - type: template
                                        entity: input_boolean.baby_room_occupancy
                                        icon: m3of:stroller
                                        icon_color: >-
                                          {% if is_state(entity, 'on') %}#f385bc{%
                                          else %}var(--primary-text-color){% endif
                                          %}
                                        tap_action:
                                          action: toggle
                                        content: >-
                                          {% if is_state(entity, 'on') %}Baby{%
                                          endif %}
                                      - type: template
                                        entity: input_boolean.master_bedroom_occupancy
                                        icon: m3of:bed
                                        icon_color: >-
                                          {% if is_state(entity, 'on') %}#89CFF0{%
                                          else %}var(--primary-text-color){% endif
                                          %}
                                        tap_action:
                                          action: toggle
                                        content: >-
                                          {% if is_state(entity, 'on') %}Master{%
                                          endif %}
                                      - type: template
                                        entity: >-
                                          input_boolean.single_guest_room_occupancy
                                        icon: m3of:person-3
                                        icon_color: >-
                                          {% if is_state(entity, 'on') %}#FFA500{%
                                          else %}var(--primary-text-color){% endif
                                          %}
                                        tap_action:
                                          action: toggle
                                        content: >-
                                          {% if is_state(entity, 'on') %}Single{%
                                          endif %}
                                      - type: template
                                        entity: >-
                                          input_boolean.multiple_guest_room_occupancy
                                        icon: m3of:groups-2
                                        icon_color: >-
                                          {% if is_state(entity, 'on') %}#A52A2A{%
                                          else %}var(--primary-text-color){% endif
                                          %}
                                        tap_action:
                                          action: toggle
                                        content: >-
                                          {% if is_state(entity, 'on')
                                          %}Multiple{% endif %}
                                      - type: template
                                        entity: input_boolean.play_room_occupancy
                                        icon: mdi:gamepad-variant
                                        icon_color: >-
                                          {% if is_state(entity, 'on') %}#9F2B68{%
                                          else %}var(--primary-text-color){% endif
                                          %}
                                        tap_action:
                                          action: toggle
                                        content: >-
                                          {% if is_state(entity, 'on') %}Play{%
                                          endif %}
                                  - type: custom:streamline-card
                                    template: spacer_card
                                    variables:
                                      padding: 20px
                              - type: custom:vertical-stack-in-card
                                cards:
                                  - type: custom:button-card
                                    entity: sensor.disabled_presence_automation_count
                                    name: Presence Status
                                    show_state: false
                                    show_icon: false
                                    show_label: true
                                    label: |-
                                      [[[ 
                                        const disabled = parseInt(entity.state);
                                        if (disabled === 0) return 'All rooms active';
                                        if (disabled === 1) return '1 room disabled';
                                        return `${disabled} rooms disabled`;
                                      ]]]
                                    styles:
                                      card:
                                        - background: >-
                                            var(--ha-card-background,
                                            var(--card-background-color, white))
                                        - border-radius: var(--ha-card-border-radius, 12px)
                                        - padding: 12px
                                      name:
                                        - text-align: center
                                        - font-size: 16px
                                        - font-weight: bold
                                      label:
                                        - text-align: center
                                        - font-size: 14px
                                        - color: var(--secondary-text-color)
                                    tap_action:
                                      action: none
                                    features_position: bottom
                                  - type: custom:mushroom-chips-card
                                    chips:
                                      - type: template
                                        entity: binary_sensor.presence_active_la
                                        icon: mdi:sofa
                                        icon_color: |-
                                          {% if is_state(entity, 'on') %} 
                                          {% else %}
                                           var(--primary-text-color)
                                          {% endif %}
                                        tap_action:
                                          action: perform-action
                                          perform_action: script.toggle_presence_sensor_la
                                          target: {}
                                        content: |-
                                          {% if is_state(entity, 'on') %} 
                                            Living
                                          {% else %}
                                          {% endif %}
                                      - type: template
                                        entity: automation.room_presence_master_bedroom
                                        icon: m3of:bed
                                        icon_color: |-
                                          {% if is_state(entity, 'on') %} 
                                          {% else %}
                                           var(--primary-text-color)
                                          {% endif %}
                                        tap_action:
                                          action: toggle
                                        content: |-
                                          {% if is_state(entity, 'on') %} 
                                            Master
                                          {% else %}
                                          {% endif %}
                                      - type: template
                                        entity: automation.room_presence_baby_room
                                        icon: m3of:stroller
                                        icon_color: |-
                                          {% if is_state(entity, 'on') %} 
                                          {% else %}
                                           var(--primary-text-color)
                                          {% endif %}
                                        tap_action:
                                          action: toggle
                                        content: |-
                                          {% if is_state(entity, 'on') %} 
                                            Baby
                                          {% else %}
                                          {% endif %}      
                                      - type: template
                                        entity: >-
                                          automation.room_presence_single_guest_room
                                        icon: m3of:person-3
                                        icon_color: |-
                                          {% if is_state(entity, 'on') %} 
                                          {% else %}
                                           var(--primary-text-color)
                                          {% endif %}
                                        tap_action:
                                          action: toggle
                                        content: |-
                                          {% if is_state(entity, 'on') %} 
                                            Single
                                          {% else %}
                                          {% endif %}
                                      - type: template
                                        entity: >-
                                          automation.room_presence_multiple_guest_room
                                        icon: m3of:groups-2
                                        icon_color: |-
                                          {% if is_state(entity, 'on') %} 
                                          {% else %}
                                           var(--primary-text-color)
                                          {% endif %}
                                        tap_action:
                                          action: toggle
                                        content: |-
                                          {% if is_state(entity, 'on') %} 
                                            Multiple
                                          {% else %}
                                          {% endif %}
                                      - type: template
                                        entity: automation.room_presence_office
                                        icon: m3of:computer
                                        icon_color: |-
                                          {% if is_state(entity, 'on') %} 
                                          {% else %}
                                           var(--primary-text-color)
                                          {% endif %}
                                        tap_action:
                                          action: toggle
                                        content: |-
                                          {% if is_state(entity, 'on') %} 
                                            Office
                                          {% else %}
                                          {% endif %}
                                    alignment: center
                                  - type: custom:streamline-card
                                    template: spacer_card
                                    variables:
                                      padding: 20px
                              - type: custom:vertical-stack-in-card
                                cards:
                                  - type: custom:button-card
                                    entity: sensor.disabled_driveway_camera_count
                                    name: Driveway Security
                                    show_state: false
                                    show_icon: false
                                    show_label: true
                                    label: |-
                                      [[[ 
                                        const disabled = parseInt(entity.state);
                                        if (disabled === 0) return 'All cameras active';
                                        if (disabled === 1) return '1 camera disabled';
                                        return `${disabled} cameras disabled`;
                                      ]]]
                                    styles:
                                      card:
                                        - background: >-
                                            var(--ha-card-background,
                                            var(--card-background-color, white))
                                        - border-radius: var(--ha-card-border-radius, 12px)
                                        - padding: 12px
                                      name:
                                        - text-align: center
                                        - font-size: 16px
                                        - font-weight: bold
                                      label:
                                        - text-align: center
                                        - font-size: 14px
                                        - color: var(--secondary-text-color)
                                    tap_action:
                                      action: none
                                  - type: custom:mushroom-chips-card
                                    chips:
                                      - type: template
                                        entity: >-
                                          automation.driveway_camera_person_notification
                                        icon: mdi:account
                                        icon_color: |-
                                          {% if is_state(entity, 'on') %} 
                                          {% else %}
                                           var(--primary-text-color)
                                          {% endif %}
                                        tap_action:
                                          action: toggle
                                        content: |-
                                          {% if is_state(entity, 'on') %} 
                                            Person
                                          {% else %}
                                          {% endif %}
                                      - type: template
                                        entity: >-
                                          automation.driveway_camera_vehicle_notification
                                        icon: mdi:car
                                        icon_color: |-
                                          {% if is_state(entity, 'on') %} 
                                          {% else %}
                                           var(--primary-text-color)
                                          {% endif %}
                                        tap_action:
                                          action: toggle
                                        content: |-
                                          {% if is_state(entity, 'on') %} 
                                            Vehicle
                                          {% else %}
                                          {% endif %}
                                    alignment: center
                                  - type: custom:streamline-card
                                    template: spacer_card
                                    variables:
                                      padding: 20px
                            card_mod:
                              style: |
                                :host {
                                  --simple-swipe-card-pagination-dot-active-color: var(--md-sys-color-primary);
                                  --simple-swipe-card-pagination-dot-inactive-color: var(--md-sys-color-on-primary);
                                  --simple-swipe-card-pagination-dot-size: 7px;
                                }
                - title: Events
                  icon: mdi:calendar
                  card:
                    type: vertical-stack
                    cards:
                      - entities:
                          - entity: calendar.a
                            accent_color: '#ff6a6a'
                          - entity: calendar.b
                            accent_color: '#71c8fe'
                          - entity: calendar.c
                            accent_color: '#d3f37f'
                          - entity: calendar.new_zealand_holidays
                            accent_color: '#f9da4e'
                        days_to_show: 10
                        compact_events_to_show: 10
                        background_color: transparent
                        vertical_line_width: 5px
                        event_spacing: 6px
                        first_day_of_week: monday
                        show_week_numbers: iso
                        week_number_color: var(--md-sys-color-on-primary)
                        week_number_background_color: var(--md-sys-color-primary)
                        month_separator_width: 1px
                        month_separator_color: var(--md-sys-color-primary)
                        today_indicator: pulse
                        today_indicator_position: 10% 50%
                        today_indicator_color: var(--md-sys-color-primary)
                        weekday_font_size: 12px
                        month_font_size: 10px
                        show_countdown: true
                        show_progress_bar: true
                        progress_bar_color: var(--md-sys-color-primary)
                        weather:
                          position: event
                          date:
                            show_conditions: true
                            show_high_temp: true
                            show_low_temp: false
                            icon_size: 14px
                            font_size: 12px
                            color: var(--primary-text-color)
                          event:
                            show_conditions: true
                            show_temp: true
                            icon_size: 14px
                            font_size: 12px
                            color: var(--primary-text-color)
                          entity: weather.forecast_home
                        tap_action:
                          action: expand
                        type: custom:calendar-card-pro
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: >-
                        {{ is_state('switch.all_light_switches', 'on') or
                        is_state('light.all_lights', 'on') or 
                        is_state('group.all_fans', 'on') or
                        is_state('group.all_doors', 'on') or
                        is_state('group.all_windows', 'on') }}
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: entity_count_card
                        variables:
                          - entity: light.all_lights
                          - title: Lights
                          - icon: mdi:lightbulb-on
                          - color: '#FFBF00'
                      - type: custom:auto-entities
                        card:
                          square: false
                          type: grid
                          columns: 2
                        card_param: cards
                        filter:
                          include:
                            - group: light.all_lights
                              state: 'on'
                              options:
                                type: custom:streamline-card
                                template: material_light_slider_card
                                variables:
                                  entity: this.entity_id
                          exclude: []
                        show_empty: false
                        sort:
                          method: entity_id
                      - type: custom:streamline-card
                        template: entity_count_card
                        variables:
                          - entity: group.all_light_switches
                          - title: Switches
                          - icon: m3of:switch
                          - color: var(--primary-text-color)
                      - type: custom:auto-entities
                        card:
                          square: false
                          type: grid
                          columns: 2
                        card_param: cards
                        filter:
                          include:
                            - group: group.all_light_switches
                              state: 'on'
                              options:
                                type: custom:streamline-card
                                template: material_light_button_card
                                variables:
                                  entity: this.entity_id
                          exclude: []
                        show_empty: false
                        sort:
                          method: entity_id
                      - type: custom:streamline-card
                        template: entity_count_card
                        variables:
                          - entity: group.all_doors
                          - title: Doors
                          - icon: m3of:door-open
                          - color: '#bc000a'
                      - type: custom:auto-entities
                        card:
                          square: false
                          type: grid
                          columns: 2
                        card_param: cards
                        filter:
                          include:
                            - group: group.all_doors
                              state: 'on'
                              options:
                                type: custom:streamline-card
                                template: material_custom_icon_with_status_button_card
                                variables:
                                  entity: this.entity_id
                                  icon: m3of:door-open
                                  text_on: Open
                                  text_off: Closed
                          exclude: []
                        show_empty: false
                        sort:
                          method: friendly_name
                      - type: custom:streamline-card
                        template: entity_count_card
                        variables:
                          - entity: group.all_windows
                          - title: Windows
                          - icon: m3of:window-open
                          - color: '#ffaa00'
                      - type: custom:auto-entities
                        card:
                          square: false
                          type: grid
                          columns: 2
                        card_param: cards
                        filter:
                          include:
                            - group: group.all_windows
                              state: 'on'
                              options:
                                type: custom:streamline-card
                                template: material_custom_icon_with_status_button_card
                                variables:
                                  entity: this.entity_id
                                  icon: m3of:window-open
                                  text_on: Open
                                  text_off: Closed
                          exclude: []
                        show_empty: false
                        sort:
                          method: friendly_name
                      - type: custom:streamline-card
                        template: entity_count_card
                        variables:
                          - entity: group.all_fans
                          - title: Fans
                          - icon: mdi:fan
                          - color: '#ADD8E6'
                      - type: custom:auto-entities
                        card:
                          square: false
                          type: grid
                          columns: 2
                        card_param: cards
                        filter:
                          include:
                            - group: group.all_fans
                              state: 'on'
                              options:
                                type: custom:streamline-card
                                template: >-
                                  material_custom_dual_icon_with_status_button_card
                                variables:
                                  entity: this.entity_id
                                  icon_on: mdi:fan
                                  icon_off: mdi:fan-off
                                  text_on: Running
                                  text_off: 'Off'
                          exclude: []
                        show_empty: false
                        sort:
                          method: friendly_name
                      - type: custom:streamline-card
                        template: entity_count_card
                        variables:
                          entity: group.all_curtains
                          title: Curtains
                          icon: m3of:curtains
                          color: '#702963'
                      - type: custom:auto-entities
                        card:
                          square: false
                          type: grid
                          columns: 2
                        card_param: cards
                        filter:
                          include:
                            - group: group.all_curtains
                              state: open
                              options:
                                type: custom:streamline-card
                                template: curtain_card
                                variables:
                                  entity: this.entity_id
                        exclude: []
                        show_empty: false
                        sort:
                          method: friendly_name
              hide_inactive_tab_titles: false
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#notifications'
                name: Notifications
                icon: m3of:notifications
                styles: |-
                  #root {
                          height: unset !important;
                          max-height: 100% !important;
                          transition: transform var(--md-sys-motion-expressive-spatial-default) !important;
                        }
                        .bubble-pop-up-container {
                          padding-bottom: 64px !important;
                        }
                        .bubble-close-button {
                          background: transparent !important;
                        }
                button_type: name
                sub_button:
                  main: []
                  bottom: []
                slider_fill_orientation: left
                slider_value_position: right
              - square: false
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: or
                        conditions:
                          - condition: state
                            entity: input_boolean.rubbish
                            state: 'on'
                          - condition: state
                            entity: input_boolean.recycle
                            state: 'on'
                          - condition: state
                            entity: switch.driveway_water_tap
                            state: 'on'
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:streamline-card
                          template: title_navigation_card
                          variables:
                            title: Driveway
                            navigation_path: /mobile-dashboard/camera
                        - type: custom:streamline-card
                          template: camera_rtsp_with_chips_card
                          variables:
                            camera_url: >-
                              ffmpeg:rtsp://<id:password>@192.168.1.150/h265Preview_01_main#video=copy#audio=opus
                            entity_id_light_one: switch.light_switch_drw
                            light_one_icon: m3of:lightbulb
                            entity_id_light_two: switch.porch_light
                            light_two_icon: m3of:lightbulb
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: group.doors_grg
                        state: 'on'
                    card:
                      type: vertical-stack
                      cards:
                        - type: horizontal-stack
                          cards:
                            - type: custom:streamline-card
                              template: title_navigation_card
                              variables:
                                title: Garage
                                navigation_path: /mobile-dashboard/camera
                            - type: custom:mushroom-chips-card
                              chips:
                                - type: template
                                  entity: switch.fingerbot_grg
                                  icon: >
                                    {% if
                                    is_state('binary_sensor.door_sensor_grg_contact',
                                    'on') %}
                                      mdi:garage-open-variant
                                    {% else %}
                                      mdi:garage-variant
                                    {% endif %}
                                  content: >
                                    {% if
                                    is_state('binary_sensor.door_sensor_grg_contact',
                                    'on') %}
                                      Open
                                    {% else %}
                                      Closed
                                    {% endif %}
                                  tap_action:
                                    action: toggle
                                  card_mod:
                                    style: |
                                      ha-card {
                                        --text-color: {{ 'var(--md-sys-color-on-primary)' if is_state('binary_sensor.door_sensor_grg_contact', 'on') else none }};
                                        --color: {{ 'var(--md-sys-color-on-primary)' if is_state('binary_sensor.door_sensor_grg_contact', 'on') else none }};
                                        --chip-background: {{ '#bc000a' if is_state('binary_sensor.door_sensor_grg_contact', 'on') else none }};    
                                      }
                              alignment: end
                              card_mod:
                                style: |
                                  ha-card {
                                    margin-top: 1.7em
                                  }
                        - type: custom:streamline-card
                          template: camera_rtsp_with_chips_card
                          variables:
                            camera_url: >-
                              ffmpeg:rtsp://<id:password>@192.168.1.248/h264Preview_01_main#video=copy#audio=opus
                            entity_id_light_one: switch.light_switch_grg
                            light_one_icon: mdi:garage-variant
                            entity_id_light_two: switch.rear_light_switch_grg
                            light_two_icon: mdi:outdoor-lamp
                columns: 1
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: input_boolean.wash_cuddly
                        state: 'on'
                      - condition: state
                        entity: input_boolean.wash_duvet
                        state: 'on'
                      - condition: numeric_state
                        entity: sensor.average_backyard_soil_humidity
                        below: 40
                      - condition: state
                        entity: sensor.house_maintenance_chip_card
                        state: 'true'
                      - condition: state
                        entity: sensor.laundry_machine_state
                        state: Delay Run
                      - condition: state
                        entity: sensor.laundry_machine_state
                        state: Run
                      - condition: numeric_state
                        entity: sensor.dryer_switch_lr_power
                        above: 10
                card:
                  type: custom:stack-in-card
                  mode: vertical
                  cards:
                    - type: custom:streamline-card
                      template: title_card
                      variables:
                        title: Chores
                    - type: custom:mushroom-chips-card
                      chips:
                        - type: conditional
                          conditions:
                            - condition: numeric_state
                              entity: sensor.average_backyard_soil_humidity
                              below: 40
                          chip:
                            type: template
                            entity: sensor.average_backyard_soil_humidity
                            icon: mdi:water-percent
                            content: >-
                              {{ states('sensor.average_backyard_soil_humidity')
                              }}% - 

                              {% set moisture =
                              states('sensor.average_backyard_soil_humidity')
                                              | float(0) %}

                                              {% if moisture < 15 %}
                                                very dry
                                              {% elif moisture < 25 %}
                                                dry
                                              {% elif moisture < 45 %}
                                                moist
                                              {% else %}
                                                wet
                                              {% endif %}
                            icon_color: >-
                              {% set moisture =
                              states('sensor.average_backyard_soil_humidity')

                              | float(0) %} {% if moisture < 15 %}
                                #A9A9A9
                              {% elif moisture < 25 %}
                                #ffd34f
                              {% elif moisture < 45 %}
                                #9fe7e8
                              {% else %}
                                #36a9e2
                              {% endif %}
                            tap_action:
                              action: more-info
                        - type: conditional
                          conditions:
                            - condition: state
                              entity: sensor.house_maintenance_chip_card
                              state: 'true'
                          chip:
                            type: template
                            entity: sensor.house_maintenance_chip_card
                            icon: |
                              {% if is_state('input_boolean.rubbish', 'on') %}
                                mdi:trash-can
                              {% elif is_state('input_boolean.recycle', 'on') %}
                                mdi:recycle
                              {% else %} {% endif %}
                            icon_color: |
                              {% if is_state('input_boolean.rubbish', 'on') %}
                                #C41E3A
                              {% elif is_state('input_boolean.recycle', 'on') %}
                                #50C878
                              {% else %} {% endif %}
                            content: |
                              {% if is_state('input_boolean.rubbish', 'on') %}
                                Rubbish Day
                              {% elif is_state('input_boolean.recycle', 'on') %}
                                Recycle Day
                              {% else %} {% endif %}      
                            tap_action:
                              action: more-info
                        - type: conditional
                          conditions:
                            - condition: state
                              entity: sensor.laundry_machine_state
                              state: Delay Run
                          chip:
                            type: entity
                            entity: sensor.laundry_delay_time_remaining
                            icon_color: blue
                            icon: m3of:timer-arrow-down
                            tap_action:
                              action: more-info
                        - type: conditional
                          conditions:
                            - condition: state
                              entity: sensor.laundry_machine_state
                              state: Run
                          chip:
                            type: entity
                            entity: sensor.laundry_time_remaining_friendly
                            icon: m3of:laundry
                            icon_color: blue
                            tap_action:
                              action: more-info
                        - type: conditional
                          conditions:
                            - condition: numeric_state
                              entity: sensor.dryer_switch_lr_power
                              above: 10
                          chip:
                            type: template
                            entity: sensor.dryer_switch_lr_power
                            tap_action:
                              action: more-info
                            icon: mdi:tumble-dryer
                            icon_color: '#880808'
                            content: Dryer Running
                      alignment: end
                      card_mod:
                        style: |
                          ha-card {
                            position: absolute;
                            top: 24px;
                            right: 5px;
                          }
              - type: grid
                columns: 2
                square: false
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: timer.wash_cuddly
                        state: idle
                    card:
                      type: custom:timer-bar-card
                      entity: timer.wash_cuddly
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: '#f385bc'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: timer.wash_duvet
                        state: idle
                    card:
                      type: custom:timer-bar-card
                      entity: timer.wash_duvet
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: '#AFE1AF'
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: binary_sensor.show_wash_cuddly_timer
                        state: 'on'
                      - condition: state
                        entity: switch.towel_switches
                        state: 'on'
                      - condition: state
                        entity: timer.exhaust_fans
                        state: active
                      - condition: state
                        entity: timer.rice_cooker
                        state: active
                      - condition: state
                        entity: timer.blender
                        state: active
                      - condition: state
                        entity: timer.driveway_sprinkler_timer
                        state: active
                      - condition: state
                        entity: timer.backyard_sprinkler_timer
                        state: active
                      - condition: state
                        entity: binary_sensor.timer_wash_duvet_12h
                        state: 'on'
                      - condition: state
                        entity: timer.dyson_charger
                        state: active
                card:
                  type: custom:streamline-card
                  template: title_card
                  variables:
                    title: Timer
              - type: grid
                columns: 2
                square: false
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: binary_sensor.show_wash_cuddly_timer
                        state: 'on'
                    card:
                      type: custom:timer-bar-card
                      entity: timer.wash_cuddly
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: '#f385bc'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: binary_sensor.show_wash_duvet_timer
                        state: 'on'
                    card:
                      type: custom:timer-bar-card
                      entity: timer.wash_duvet
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: '#AFE1AF'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: timer.heated_towel_rails
                        state: active
                    card:
                      type: custom:timer-bar-card
                      entity: timer.heated_towel_rails
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: orange
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: timer.exhaust_fans
                        state: active
                    card:
                      type: custom:timer-bar-card
                      entity: timer.exhaust_fans
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: '#b5e0f7'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: timer.rice_cooker
                        state: active
                    card:
                      type: custom:timer-bar-card
                      entity: timer.rice_cooker
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: '#D70040'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: timer.blender
                        state: active
                    card:
                      type: custom:timer-bar-card
                      entity: timer.blender
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: '#A020F0'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: timer.driveway_sprinkler_timer
                        state: active
                    card:
                      type: custom:timer-bar-card
                      entity: timer.driveway_sprinkler_timer
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: '#7393B3'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: timer.backyard_sprinkler_timer
                        state: active
                    card:
                      type: custom:timer-bar-card
                      entity: timer.backyard_sprinkler_timer
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: '#899499'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: timer.dyson_charger
                        state: active
                    card:
                      type: custom:timer-bar-card
                      entity: timer.dyson_charger
                      invert: true
                      bar_direction: ltr
                      bar_width: 60%
                      mushroom:
                        layout: vertical
                        color: '#5D3FD3'
              - type: vertical-stack
                cards:
                  - type: custom:streamline-card
                    template: title_card
                    variables:
                      title: Media
                  - type: custom:mushroom-template-card
                    primary: Spotify App
                    secondary: Navigate to Spotify
                    icon: mdi:spotify
                    color: green
                    features_position: bottom
                    tap_action:
                      action: url
                      url_path: spotify://home
              - type: conditional
                conditions:
                  - condition: numeric_state
                    entity: sensor.low_battery_count
                    above: 0
                card:
                  type: vertical-stack
                  cards:
                    - type: custom:streamline-card
                      template: title_card
                      variables:
                        title: Devices
                    - type: custom:auto-entities
                      card:
                        type: grid
                        square: false
                        columns: 1
                      card_param: cards
                      filter:
                        include:
                          - options:
                              type: custom:mushroom-template-card
                              icon: |
                                {% set v = states(entity) | default(0) | int %}
                                {% if v < 10 %}
                                  mdi:battery-alert-variant-outline
                                {% elif v < 25 %}
                                  mdi:battery-10
                                {% elif v < 40 %}
                                  mdi:battery-30
                                {% elif v < 60 %}
                                  mdi:battery-50
                                {% endif %}
                              primary: |
                                {{ states(entity) }}%
                              secondary: |
                                {{ state_attr(entity, 'friendly_name') }} -
                                      updated: {{ relative_time(states[entity].last_updated) }} ago
                              icon_color: |
                                {% set v = states(entity) | default(0) | int %}
                                {% if v < 25 %}
                                  red
                                {% elif v < 60 %}
                                  yellow
                                {% endif %}
                              card_mod:
                                style:
                                  mushroom-shape-icon$: |
                                    .shape {
                                      --shape-color: transparent !important;
                                    }
                            entity_id: '*battery*'
                            state: < 60
                        exclude:
                          - options: {}
                            entity_id: '*temperature*'
                          - options: {}
                            entity_id: '*low*'
                          - options: {}
                            name: '*temperature*'
                          - options: {}
                            state: unavailable
                          - options: {}
                            state: unknown
                      show_empty: false
                      sort:
                        method: friendly_name
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: horizontal-stack
                cards: []
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#weather-panel'
                name: Weather Panel
                icon: mdi:weather-cloudy-arrow-right
                styles: |-
                  #root {
                          max-height: 100% !important;
                          transition: transform var(--md-sys-motion-expressive-spatial-default) !important;
                        }
                        .bubble-pop-up-container {
                          padding-bottom: 64px !important;


                        }
                button_type: name
                sub_button:
                  main: []
                  bottom: []
                slider_fill_orientation: left
                slider_value_position: right
              - type: custom:simple-tabs
                pre-load: true
                active-background: var(--md-sys-color-primary)
                active-text-color: var(--md-sys-color-on-primary)
                text-color: var(--primary-text-color)
                tabs:
                  - title: Volcano
                    icon: m3of:mountain-steam
                    conditions:
                      - condition: template
                        template: |
                          {{ states('sensor.volcano_rotorua') | float(0) > 0 }}
                    card:
                      type: markdown
                      content: >
                        {{ state_attr('sensor.volcano_taupo', 'activity') |
                        default('No warnings') }}


                        _Issued: {{
                          as_datetime(state_attr('sensor.volcano_taupo', 'feed_last_update_successful')).astimezone().strftime('%I:%M%p %A, %d %b')
                        }}_
                      text_only: true
                  - title: Earthquake
                    icon: m3of:earthquake
                    conditions:
                      - condition: template
                        template: >
                          {{
                          states('sensor.earthquake')
                          | float(0) > 0 }}
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:streamline-card
                          template: title_card
                          variables:
                            - title: Latest Earthquake
                        - type: markdown
                          content: >

                            {% set sensor = states.geo_location |
                            selectattr('attributes.source', 'defined') |
                            selectattr('attributes.source', 'eq',
                            'geonetnz_quakes') | sort(attribute='last_updated',
                            reverse=true) | list | first %}

                            {% if sensor %}

                            **Locality:** {{ sensor.attributes.locality }}  

                            **Magnitude:** {{ sensor.attributes.magnitude |
                            round(2) }}

                            **Depth:** {{ sensor.attributes.depth }} km  

                            **Time:** {{ as_timestamp(sensor.attributes.time) |
                            timestamp_custom('%a, %b %-d at %I:%M %p') }}  

                            {% else %}

                            No recent earthquakes detected

                            {% endif %}
                  - title: Warning
                    icon: m3of:warning
                    conditions:
                      - condition: template
                        template: >
                          {{ states('sensor.home_metservice_weather_warnings')
                          not in ['unavailable', 'unknown'] }}
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:streamline-card
                          template: title_card
                          variables:
                            - title: Weather Warning
                        - type: markdown
                          content: >2-

                              {{ state_attr('sensor.home_metservice_weather_warnings', 'warnings') | default('No warnings') }}

                            _Issued: {{
                            states.sensor.home_metservice_weather_warnings.last_changed.strftime('%I:%M%p
                            %A, %d %b') }}_
                        - type: custom:mushroom-chips-card
                          chips:
                            - type: template
                              icon: mdi:weather-lightning
                              content: Open MetService
                              tap_action:
                                action: url
                                url_path: https://www.metservice.com/warnings/home
                              card_mod:
                                style:
                                  .: |
                                    ha-card {
                                      --text-color: {{ 'var(--primary-background-color)' }};
                                      --color: {{ 'var(--primary-background-color)'  }};
                                      --chip-background: {{ 'var(--md-sys-color-primary)' }};
                                    }
                          alignment: center
                  - title: Forecast
                    icon: mdi:weather-partly-cloudy
                    card:
                      type: vertical-stack
                      cards:
                        - type: horizontal-stack
                          cards:
                            - type: custom:stack-in-card
                              mode: vertical
                              cards:
                                - type: custom:streamline-card
                                  template: title_subtitle_card
                                  variables:
                                    - title: Forecast
                                    - subtitle: >-
                                        {{ states ('sensor.next_rain_summary')
                                        }}
                                  card_mod:
                                    style: |
                                      ha-card {
                                        padding-right: 120px;
                                      }
                                - type: custom:mushroom-chips-card
                                  chips:
                                    - type: template
                                      icon: mdi:weather-lightning
                                      content: MetService
                                      tap_action:
                                        action: url
                                        url_path: https://www.metservice.com/warnings/home
                                      card_mod:
                                        style:
                                          .: |
                                            ha-card {
                                              --text-color: var(--primary-background-color);
                                              --color: var(--primary-background-color);
                                              --chip-background: var(--md-sys-color-primary);
                                            }
                                  card_mod:
                                    style: |
                                      ha-card {
                                        position: absolute;
                                        top: 20px;
                                        right: 2px;
                                      }
                        - type: vertical-stack
                          cards:
                            - type: custom:weather-forecast-extended-card
                              entity: weather.home
                              show_header: true
                              hourly_forecast: true
                              daily_forecast: true
                              daily_min_gap: 30
                              hourly_min_gap: 16
                              show_sun_times: true
                              sun_use_home_coordinates: true
                              use_night_header_backgrounds: true
                        - type: horizontal-stack
                          cards:
                            - type: custom:mushroom-template-card
                              entity: sensor.daily_weather_data_met_no
                              icon: mdi:thermometer
                              primary: >
                                {% set current = state_attr('weather.home',
                                'temperature') %}

                                Temp: {{ current }} {{
                                state_attr('weather.home', 'temperature_unit')
                                }}
                              secondary: >-
                                {% set forecast =
                                state_attr('sensor.daily_weather_data_google_weather',
                                'forecast_data') %} {% set unit =
                                state_attr('weather.home', 'temperature_unit')
                                %} {% if forecast is defined and
                                forecast.temperature is defined and
                                forecast.templow is defined %}
                                  High: {{ forecast.temperature }}{{ unit }} - Low: {{ forecast.templow }}{{ unit }}
                                {% else %}
                                  High: N/A - Low: N/A
                                {% endif %}
                              color: >
                                {% set current = state_attr('weather.home',
                                'temperature') | float(0) %} {% if current < 16
                                %}
                                  #CEB2F5
                                {% elif current < 18 %}
                                  #5EBDEE
                                {% elif current < 22 %}
                                  #9cc8b8
                                {% elif current < 24 %}
                                  #e7b562
                                {% elif current < 27 %}
                                  #FF564B      
                                {% else %}
                                  #99332d
                                {% endif %}
                              features_position: bottom
                              multiline_secondary: true
                            - type: custom:mushroom-template-card
                              entity: >-
                                sensor.your_town_air_quality_index
                              icon: mdi:leaf
                              primary: Air Quality
                              secondary: >-
                                {% set aqi =
                                states('sensor.your_town_air_quality_index')
                                %} {% set pollutant =
                                states('sensor.your_town_dominant_pollutant')
                                %} {% if aqi not in
                                ['unknown','unavailable','none',''] %}
                                  {% set aqi = aqi | int %}
                                  {% set level = ('Good' if aqi <= 50 else 'Moderate' if aqi <= 100 else 'Unhealthy' if aqi <= 150 else 'Very Unhealthy' if aqi <= 200 else 'Hazardous') %}
                                  {{ level }} - AQI {{ aqi }} - {{ pollutant }}
                                {% else %}
                                  Data unavailable
                                {% endif %}
                              color: >
                                {% set aqi =
                                states('sensor.your_town_air_quality_index')
                                %} {% if aqi not in
                                ['unknown','unavailable','none',''] %}
                                  {% set aqi = aqi | int %}
                                  {% if aqi <= 50 %} green
                                  {% elif aqi <= 100 %} yellow
                                  {% elif aqi <= 150 %} orange
                                  {% elif aqi <= 200 %} red
                                  {% elif aqi <= 300 %} purple
                                  {% else %} brown
                                  {% endif %}
                                {% else %}
                                  grey
                                {% endif %}
                              features_position: bottom
                              multiline_secondary: true
                  - title: Rainfall
                    icon: m3of:rainy
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:streamline-card
                          template: title_subtitle_card
                          variables:
                            - title: Rainfall & Temperature Forecast
                            - subtitle: '{{ states (''sensor.24h_rainfall_summary'') }}'
                        - type: vertical-stack
                          cards:
                            - type: custom:apexcharts-card
                              header:
                                show: true
                              graph_span: 24h
                              span:
                                start: hour
                              now:
                                show: true
                              apex_config:
                                chart:
                                  height: 240
                                legend:
                                  show: true
                                grid:
                                  yaxis:
                                    lines:
                                      show: false
                                xaxis:
                                  crosshairs:
                                    show: false
                                  tooltip:
                                    enabled: false
                                yaxis:
                                  - id: rain
                                    title:
                                      text: Rain (mm)
                                    opposite: false
                                  - id: temp
                                    title:
                                      text: Temp (Â°C)
                                    opposite: true
                                    decimalsInFloat: 0
                              series:
                                - entity: >-
                                    sensor.google_weather_hourly_forecasts_full_hourly_forecast
                                  name: Rain
                                  type: column
                                  yaxis_id: rain
                                  data_generator: >
                                    return entity.attributes.forecasts.map(f =>
                                    {
                                      let val = f.precipitation;
                                      let color = '#9e9e9e';
                                      if (val > 0 && val < 2.5) {
                                        color = '#4FC3F7';
                                      } else if (val < 7.6) {
                                        color = '#0288D1';
                                      } else if (val < 35) {
                                        color = '#01579B';
                                      } else {
                                        color = '#311B92';
                                      }
                                      return {
                                        x: new Date(f.datetime).getTime(),
                                        y: val,
                                        fillColor: color
                                      };
                                    });
                                - entity: >-
                                    sensor.google_weather_hourly_forecasts_full_hourly_forecast
                                  name: Temp
                                  type: line
                                  curve: smooth
                                  yaxis_id: temp
                                  stroke_width: 2
                                  color: '#E53935'
                                  data_generator: >
                                    return entity.attributes.forecasts.map(f =>
                                    {
                                      return {
                                        x: new Date(f.datetime).getTime(),
                                        y: f.temperature
                                      };
                                    });
                            - type: horizontal-stack
                              cards:
                                - type: custom:mushroom-template-card
                                  entity: sensor.forecast_rainfall
                                  icon: mdi:weather-rainy
                                  primary: >
                                    {% set r =
                                    states('sensor.forecast_rainfall') %} {% if
                                    r in ['unknown', 'unavailable', None] %}
                                      Rainfall: None
                                    {% else %}
                                      Rainfall: {{ r }} mm
                                    {% endif %}
                                  secondary: >
                                    {% set r =
                                    states('sensor.forecast_rainfall') |
                                    float(0) %} {% if r == 0 %}
                                      None - Dry conditions
                                    {% elif r < 1 %}
                                      Light - Possible drizzle
                                    {% elif r < 5 %}
                                      Moderate - Bring umbrella
                                    {% elif r < 20 %}
                                      Heavy - Wet outdoors
                                    {% else %}
                                      Intense - Flood risk
                                    {% endif %}
                                  color: >
                                    {% set r =
                                    states('sensor.forecast_rainfall') |
                                    float(0) %} {% if r == 0 %}
                                      blue
                                    {% elif r < 1 %}
                                      lightblue
                                    {% elif r < 5 %}
                                      cyan
                                    {% elif r < 20 %}
                                      orange
                                    {% else %}
                                      red
                                    {% endif %}
                                  features_position: bottom
                                  multiline_secondary: true
                                - type: custom:mushroom-template-card
                                  entity: sensor.forecast_temperature
                                  icon: mdi:thermometer
                                  primary: >
                                    Temp: {{
                                    states('sensor.forecast_temperature') }} {{
                                    state_attr('weather.home',
                                    'temperature_unit') }}
                                  secondary: >
                                    {% set t =
                                    states('sensor.forecast_temperature') |
                                    float(0) %} {% if t < 5 %}
                                      Cold - Bundle up
                                    {% elif t < 15 %}
                                      Cool - Light jacket
                                    {% elif t < 25 %}
                                      Mild - Comfortable
                                    {% elif t < 32 %}
                                      Warm - Stay hydrated
                                    {% else %}
                                      Hot - Avoid heat
                                    {% endif %}
                                  color: >
                                    {% set current = state_attr('weather.home',
                                    'temperature') | float(0) %} {% if current <
                                    16 %}
                                      #CEB2F5
                                    {% elif current < 18 %}
                                      #5EBDEE
                                    {% elif current < 22 %}
                                      #9cc8b8
                                    {% elif current < 24 %}
                                      #e7b562
                                    {% elif current < 27 %}
                                      #FF564B      
                                    {% else %}
                                      #99332d
                                    {% endif %}
                                  features_position: bottom
                                  multiline_secondary: true
                  - title: UV
                    icon: m3of:sunny
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:streamline-card
                          template: title_subtitle_card
                          variables:
                            - title: UV Index & Cloud Coverage Forecast
                            - subtitle: '{{ states (''sensor.uv_and_cloud_summary'') }}'
                        - type: vertical-stack
                          cards:
                            - type: custom:apexcharts-card
                              graph_span: 24h
                              span:
                                start: hour
                              now:
                                show: true
                              apex_config:
                                chart:
                                  height: 240
                                legend:
                                  show: true
                                grid:
                                  yaxis:
                                    lines:
                                      show: false
                                xaxis:
                                  crosshairs:
                                    show: false
                                  tooltip:
                                    enabled: false
                                yaxis:
                                  - id: uv
                                    title:
                                      text: UV Index
                                    opposite: false
                                    min: 0
                                    max: 11
                                  - id: cloud
                                    title:
                                      text: Cloud Coverage (%)
                                    opposite: true
                                    min: 0
                                    max: 100
                              series:
                                - entity: >-
                                    sensor.google_weather_hourly_forecasts_full_hourly_forecast
                                  name: UV Index
                                  type: line
                                  curve: smooth
                                  yaxis_id: uv
                                  color: '#F9A825'
                                  stroke_width: 2
                                  data_generator: >
                                    return entity.attributes.forecasts.map(f =>
                                    {
                                      if (f.uv_index == null) return null;
                                      return { x: new Date(f.datetime).getTime(), y: f.uv_index };
                                    }).filter(x => x !== null);
                                - entity: >-
                                    sensor.google_weather_hourly_forecasts_full_hourly_forecast
                                  name: Cloud Coverage
                                  type: area
                                  yaxis_id: cloud
                                  color: '#90CAF9'
                                  stroke_width: 1
                                  opacity: 0.3
                                  data_generator: >
                                    return entity.attributes.forecasts.map(f =>
                                    {
                                      if (f.cloud_coverage == null) return null;
                                      return { x: new Date(f.datetime).getTime(), y: f.cloud_coverage };
                                    }).filter(x => x !== null);
                            - type: horizontal-stack
                              cards:
                                - type: custom:mushroom-template-card
                                  entity: sensor.forecast_uv_index
                                  icon: mdi:weather-sunny-alert
                                  primary: >
                                    UV Index: {{
                                    states('sensor.forecast_uv_index') }}
                                  secondary: >
                                    {% set uv =
                                    states('sensor.forecast_uv_index') |
                                    float(0) %} {% if uv < 3 %}
                                      Low - Safe outdoors
                                    {% elif uv < 6 %}
                                      Moderate - Use hat & sunglasses
                                    {% elif uv < 8 %}
                                      High - Apply sunscreen
                                    {% elif uv < 11 %}
                                      Very High - Seek shade
                                    {% else %}
                                      Extreme - Stay indoors
                                    {% endif %}
                                  color: >
                                    {% set uv =
                                    states('sensor.forecast_uv_index') |
                                    float(0) %} {% if uv < 3 %}
                                      green
                                    {% elif uv < 6 %}
                                      yellow
                                    {% elif uv < 8 %}
                                      orange
                                    {% elif uv < 11 %}
                                      red
                                    {% else %}
                                      purple
                                    {% endif %}
                                  features_position: bottom
                                  multiline_secondary: true
                                - type: custom:mushroom-template-card
                                  entity: sensor.forecast_cloud_coverage
                                  icon: mdi:weather-cloudy
                                  primary: >
                                    Cloud: {{
                                    states('sensor.forecast_cloud_coverage') }}%
                                  secondary: >
                                    {% set c =
                                    states('sensor.forecast_cloud_coverage') |
                                    float(0) %} {% if c <= 25 %}
                                      Clear skies - ideal visibility
                                    {% elif c <= 50 %}
                                      Partly cloudy - some sun breaks
                                    {% elif c <= 75 %}
                                      Mostly cloudy - limited sunshine
                                    {% else %}
                                      Overcast - likely dull conditions
                                    {% endif %}
                                  color: >
                                    {% set c =
                                    states('sensor.forecast_cloud_coverage') |
                                    float(0) %} {% if c <= 25 %}
                                      blue
                                    {% elif c <= 50 %}
                                      light-blue
                                    {% elif c <= 75 %}
                                      grey
                                    {% else %}
                                      blue-grey
                                    {% endif %}
                                  features_position: bottom
                                  multiline_secondary: true
                  - title: Wind
                    icon: m3of:storm
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:streamline-card
                          template: title_subtitle_card
                          variables:
                            - title: Wind Speed & Direction Forecast
                            - subtitle: '{{ states (''sensor.wind_summary'') }}'
                        - type: vertical-stack
                          cards:
                            - type: custom:apexcharts-card
                              graph_span: 24h
                              span:
                                start: hour
                              now:
                                show: true
                              apex_config:
                                chart:
                                  height: 240
                                legend:
                                  show: true
                                grid:
                                  yaxis:
                                    lines:
                                      show: false
                                xaxis:
                                  crosshairs:
                                    show: false
                                  tooltip:
                                    enabled: false
                                yaxis:
                                  - id: speed
                                    title:
                                      text: Wind Speed (km/h)
                                    opposite: false
                                  - id: direction
                                    title:
                                      text: Direction (Â°)
                                    opposite: true
                                    min: 0
                                    max: 360
                              series:
                                - entity: >-
                                    sensor.google_weather_hourly_forecasts_full_hourly_forecast
                                  name: Speed
                                  type: line
                                  curve: smooth
                                  yaxis_id: speed
                                  color: '#0288D1'
                                  stroke_width: 2
                                  data_generator: >
                                    return entity.attributes.forecasts.map(f =>
                                    {
                                      let speed = f.wind_speed;
                                      speed = Math.round(speed * 10) / 10; // round to 1 decimal place
                                      return { x: new Date(f.datetime).getTime(), y: speed };
                                    });
                                - entity: >-
                                    sensor.google_weather_hourly_forecasts_full_hourly_forecast
                                  name: Direction
                                  type: line
                                  curve: smooth
                                  yaxis_id: direction
                                  color: '#8E24AA'
                                  stroke_width: 1
                                  data_generator: >
                                    return entity.attributes.forecasts.map(f =>
                                    {
                                      let direction = Math.round(f.wind_bearing); // round to nearest integer
                                      return { x: new Date(f.datetime).getTime(), y: direction };
                                    });
                            - type: horizontal-stack
                              cards:
                                - type: custom:mushroom-template-card
                                  entity: sensor.forecast_wind_speed
                                  icon: mdi:weather-windy
                                  primary: >
                                    Wind: {{
                                    states('sensor.forecast_wind_speed') }} {{
                                    state_attr('weather.home',
                                    'wind_speed_unit') }}
                                  secondary: >
                                    {% set s =
                                    states('sensor.forecast_wind_speed') |
                                    float(0) %} {% set d =
                                    states('sensor.forecast_wind_direction') |
                                    float(0) %} {% if s < 5 %}
                                      Calm - Smooth air
                                    {% elif s < 20 %}
                                      Breezy - Light gusts
                                    {% elif s < 40 %}
                                      Windy - Secure items
                                    {% elif s < 60 %}
                                      Strong - Use caution
                                    {% else %}
                                      Gale - Stay indoors
                                    {% endif %} ({{ d | round(0) }}Â°)
                                  color: >
                                    {% set s =
                                    states('sensor.forecast_wind_speed') |
                                    float(0) %} {% if s < 5 %}
                                      green
                                    {% elif s < 20 %}
                                      yellow
                                    {% elif s < 40 %}
                                      orange
                                    {% elif s < 60 %}
                                      red
                                    {% else %}
                                      purple
                                    {% endif %}
                                  features_position: bottom
                  - title: Radar
                    icon: m3of:radar
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:streamline-card
                          template: title_subtitle_card
                          variables:
                            - title: Radar
                            - subtitle: >-
                                {% set w = states.weather.home.attributes %}ð¡ï¸
                                {{ w.temperature }}{{ w.temperature_unit }} ð§
                                Humidity: {{ w.humidity }}% ðï¸ Visibility: {{
                                w.visibility }}km âï¸ Clouds: {{ w.cloud_coverage
                                | round }}% ð¨ Wind: {{ w.wind_speed }} {{
                                w.wind_speed_unit }} ð¤ï¸ UV index: {{ w.uv_index
                                }}
                        - type: custom:mod-card
                          card:
                            type: iframe
                            url: >-
                              https://embed.windy.com/embed2.html?lat=x&lon=y&width=800&height=600
                          style: |
                            ha-card {
                              padding: 0;
                              height: 350px !important;   /* fix height */
                              width: 100% !important;
                              overflow: hidden;
                            }
                            iframe {
                              width: 100% !important;
                              height: 100% !important;
                            }
                  - title: Lunar
                    icon: m3of:moon-stars
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:streamline-card
                          template: title_subtitle_card
                          variables:
                            - title: Lunar Cycle & Visibility
                            - subtitle: '{{ states (''sensor.moon_summary'') }}'
                        - type: custom:lunar-phase-card
                          entity: ''
                          12hr_format: true
                          calendar_modal: false
                          compact_view: true
                          default_card: base
                          hide_buttons: false
                          mile_unit: false
                          moon_position: left
                          number_decimals: 2
                          selected_language: en
                          show_background: false
                          southern_hemisphere: false
                          use_custom: false
                          use_default: true
                          use_entity: false
                          graph_config:
                            graph_type: default
                            y_ticks: false
                            x_ticks: false
                            show_time: true
                            show_Temp: true
                            show_highest: true
                            y_ticks_position: left
                            y_ticks_step_size: 30
                            time_step_size: 30
                          font_customize:
                            header_font_size: medium
                            header_font_style: capitalize
                            label_font_size: small
                            label_font_style: none
                            label_font_color: ''
                            hide_label: false
                          latitude: x
                          longitude: y
                          location:
                            city: ''
                            country: New Zealand
                          custom_background: >-
                            https://cdn.jsdelivr.net/gh/ngocjohn/lunar-phase-card@1.7.3/background/moon_bg_2.png
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#alarmo'
                name: Alarm
                icon: m3of:pin
                styles: |-
                  #root {
                          height: unset !important;
                          max-height: 100% !important;
                          transition: transform var(--md-sys-motion-expressive-spatial-default) !important;
                        }
                        .bubble-pop-up-container {
                          padding-bottom: 64px !important;


                        }
                bg_color: var(--card-background-color)
                button_type: name
                sub_button:
                  main: []
                  bottom: []
              - states:
                  - arm_away
                type: alarm-panel
                entity: alarm_control_panel.alarmo
                name: Alarmo
                theme: Material You
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#music-player'
                name: Music Player
                icon: m3of:music-note
                styles: |-
                  #root {
                          height: unset !important;
                          max-height: 100% !important;
                          transition: transform var(--md-sys-motion-expressive-spatial-default) !important;
                        }
                        .bubble-pop-up-container {
                          padding-bottom: 64px !important;
                          
                        }
                button_type: name
                sub_button:
                  main: []
                  bottom: []
                slider_fill_orientation: left
                slider_value_position: right
              - type: custom:mediocre-massive-media-player-card
                entity_id: media_player.your_media
                mode: card
                action:
                  tap_action:
                    action: url
                    url_path: spotify://home
                speaker_group:
                  entities:
                    - media_player.jbl_bar_500
                    - media_player.nestmini8699
                media_browser: null
                card_mod:
                  class: filled
      - type: grid
        cards:
          - type: custom:navbar-card
            mobile:
              show_labels: true
            haptic: true
            desktop:
              show_labels: true
              position: left
              min_width: 768
              show_popup_label_backgrounds: false
            routes:
              - url: /mobile-dashboard/overview
                label: Home
                icon: m3o:home
                icon_selected: m3of:home
              - url: /mobile-dashboard/rooms
                label: Rooms
                icon: m3o:chair
                icon_selected: mdi:sofa
              - url: /mobile-dashboard/scenes
                label: Scenes
                icon: m3o:layers
                icon_selected: m3of:layers
              - url: /mobile-dashboard/camera
                label: Camera
                icon: m3o:camera
                icon_selected: m3of:camera
              - icon: mdi:dots-horizontal
                label: More
                tap_action:
                  action: open-popup
                popup:
                  - icon: m3of:tools-wrench
                    url: /config/dashboard
                  - icon: m3of:sprinkler
                    url: /mobile-dashboard/irrigation
                  - icon: m3of:colors
                    url: /material-you-configuration
                  - icon: m3of:power-settings-new
                    tap_action:
                      action: call-service
                      service: homeassistant.restart
                      service_data: {}
                      confirmation:
                        text: Are you sure you want to restart Home Assistant?
            styles: |
              .navbar-card {
                background: color-mix(in srgb, var(--md-sys-color-on-primary) 70%, transparent);
                backdrop-filter: blur(50px);
                -webkit-backdrop-filter: blur(20px) !important;
                background-blend-mode: overlay;
                border-radius: 20px;
                box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
                margin-bottom: 15px;
                overflow: hidden;
                animation: fadeInUp 0.5s ease-out;
              }

              @keyframes fadeInUp {
                from {
                  opacity: 0;
                  transform: translateY(10px);
                }
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }

              .button.active {
                background: transparent;
              }

              ha-ripple {
                display: none !important;
              }
            media_player:
              entity: media_player.your_media
              album_cover_background: true
              tap_action:
                action: navigate
                navigation_path: '#music-player'
    icon: m3o:home
    cards: []
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Rooms
    path: rooms
    icon: m3o:chair
    sections:
      - type: grid
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:streamline-card
                template: back_button_card
                variables:
                  navigation_path: /mobile-dashboard/overview
              - type: custom:streamline-card
                template: page_title_card
                variables:
                  title: Rooms
              - type: custom:streamline-card
                template: spacer_card
                variables: {}
          - type: vertical-stack
            cards:
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:streamline-card
                template: room_toggles_chip_card
                variables:
                  entity_area_one: input_boolean.room_toggle_one_mobile
                  area_one_icon: mdi:star
                  area_one_name: Default
                  entity_area_two: input_boolean.room_toggle_two_mobile
                  area_two_icon: mdi:home
                  area_two_name: Others
                  entity_area_three: input_boolean.room_toggle_three_mobile
                  area_three_icon: mdi:light-flood-down
                  area_three_name: Outdoor
                  animation_delay: 0.5s
                  alignment: start
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
          - type: custom:vertical-stack-in-card
            cards:
              - type: conditional
                conditions:
                  - entity: input_boolean.room_toggle_one_mobile
                    state: 'on'
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Garage
                        icon: mdi:garage-variant
                        entity_id_temperature: sensor.garage_temperature
                        entity_id_humidity: sensor.garage_humidity
                        entity_id_lights: switch.lights_grg
                        lights_icon: mdi:light-recessed
                        lights_count_sensor: sensor.lights_grg_count
                        entity_id_windows: group.windows_grg
                        windows_count_sensor: sensor.windows_grg_count
                        entity_id_doors: group.doors_grg
                        doors_count_sensor: sensor.doors_grg_count
                        animation_delay: 0.6s
                        navigation_path: /mobile-dashboard/garage/
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Living Area
                        icon: mdi:sofa
                        entity_id_temperature: sensor.living_room_temperature
                        entity_id_humidity: sensor.living_area_humidity
                        entity_id_ac_main: climate.heat_pump
                        entity_id_ac: climate.living_room
                        entity_id_lights: light.lights_la
                        lights_icon: mdi:light-recessed
                        lights_count_sensor: sensor.lights_la_count
                        entity_id_windows: group.windows_la
                        windows_count_sensor: sensor.windows_la_count
                        entity_id_doors: group.doors_la
                        doors_count_sensor: sensor.doors_la_count
                        animation_delay: 0.8s
                        navigation_path: /mobile-dashboard/living-area/
                  card_mod:
                    style: |
                      :host {
                        opacity: 0;
                        visibility: hidden;
                        animation: 
                          reveal 0s linear 0.6s forwards,
                          containerFadeIn 0.3s ease-out 0.6s forwards;
                      }
                      @keyframes reveal {
                        to { visibility: visible; }
                      }
                      @keyframes containerFadeIn {
                        to { opacity: 1; }
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.room_toggle_two_mobile
                    state: 'on'
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Attic
                        icon: mdi:home-roof
                        entity_id_temperature: sensor.attic_temperature
                        entity_id_humidity: sensor.attic_humidity
                        entity_id_lights: switch.light_switch_atc
                        lights_count_sensor: sensor.lights_atc_count
                        lights_icon: mdi:light-recessed
                        entity_id_doors: binary_sensor.door_sensor_atc_contact
                        doors_count_sensor: sensor.doors_atc_count
                        animation_delay: 0.5s
                        navigation_path: /mobile-dashboard/attic
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Entrance
                        icon: mdi:table-furniture
                        entity_id_temperature: sensor.living_room_temperature
                        entity_id_humidity: sensor.living_area_humidity
                        entity_id_lights: light.lights_etr
                        lights_count_sensor: sensor.lights_etr_count
                        lights_icon: mdi:lightbulb-group
                        entity_id_doors: binary_sensor.door_sensor_etr_contact
                        doors_count_sensor: sensor.doors_etr_count
                        animation_delay: 0.7s
                        navigation_path: /mobile-dashboard/entrance/
                  card_mod:
                    style: |
                      :host {
                        opacity: 0;
                        visibility: hidden;
                        animation: 
                          reveal 0s linear 0.6s forwards,
                          containerFadeIn 0.3s ease-out 0.6s forwards;
                      }
                      @keyframes reveal {
                        to { visibility: visible; }
                      }
                      @keyframes containerFadeIn {
                        to { opacity: 1; }
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.room_toggle_three_mobile
                    state: 'on'
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Driveway
                        icon: mdi:car
                        entity_id_temperature: sensor.outdoor_temperature
                        entity_id_humidity: sensor.outdoor_humidity
                        entity_id_lights: group.light_switches_drw
                        lights_count_sensor: sensor.lights_drw_count
                        lights_icon: mdi:light-recessed
                        entity_id_doors: group.doors_drw
                        doors_count_sensor: sensor.doors_drw_count
                        animation_delay: 0.5s
                        navigation_path: /mobile-dashboard/driveway/
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Patio
                        icon: mdi:grass
                        entity_id_temperature: sensor.outdoor_temperature
                        entity_id_humidity: sensor.outdoor_humidity
                        entity_id_lights: switch.lights_patio
                        lights_count_sensor: sensor.lights_otd_count
                        lights_icon: mdi:light-recessed
                        entity_id_doors: group.doors_otd
                        doors_count_sensor: sensor.doors_otd_count
                        animation_delay: 0.7s
                        navigation_path: /mobile-dashboard/patio/
                  card_mod:
                    style: |
                      :host {
                        opacity: 0;
                        visibility: hidden;
                        animation: 
                          reveal 0s linear 0.6s forwards,
                          containerFadeIn 0.3s ease-out 0.6s forwards;
                      }
                      @keyframes reveal {
                        to { visibility: visible; }
                      }
                      @keyframes containerFadeIn {
                        to { opacity: 1; }
                      }
          - type: custom:vertical-stack-in-card
            cards:
              - type: conditional
                conditions:
                  - entity: input_boolean.room_toggle_one_mobile
                    state: 'on'
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Master
                        icon: m3of:bed
                        entity_id_temperature: sensor.master_bedroom_temperature
                        entity_id_humidity: sensor.master_bedroom_humidity
                        entity_id_ac: climate.master_bedroom
                        entity_id_ac_main: climate.heat_pump
                        entity_id_lights: light.lights_mbr
                        lights_icon: mdi:light-recessed
                        lights_count_sensor: sensor.lights_mbr_count
                        entity_id_covers: group.curtains_mbr
                        covers_count_sensor: sensor.covers_mbr_count
                        entity_id_doors: group.doors_mbr
                        doors_count_sensor: sensor.doors_mbr_count
                        animation_delay: 0.9s
                        navigation_path: /mobile-dashboard/master-bedroom/
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Baby
                        icon: m3of:stroller
                        entity_id_temperature: sensor.baby_room_temperature
                        entity_id_humidity: sensor.baby_room_humidity
                        entity_id_ac_main: climate.heat_pump
                        entity_id_ac: climate.baby_room
                        entity_id_lights: light.lights_br
                        lights_icon: mdi:light-recessed
                        lights_count_sensor: sensor.lights_br_count
                        entity_id_windows: group.windows_br
                        windows_count_sensor: sensor.windows_br_count
                        entity_id_doors: binary_sensor.door_sensor_br_contact
                        doors_count_sensor: sensor.doors_br_count
                        animation_delay: 1.1s
                        navigation_path: /mobile-dashboard/baby-room/
                  card_mod:
                    style: |
                      :host {
                        opacity: 0;
                        visibility: hidden;
                        animation: 
                          reveal 0s linear 0.6s forwards,
                          containerFadeIn 0.3s ease-out 0.6s forwards;
                      }
                      @keyframes reveal {
                        to { visibility: visible; }
                      }
                      @keyframes containerFadeIn {
                        to { opacity: 1; }
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.room_toggle_two_mobile
                    state: 'on'
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Office
                        icon: m3of:computer
                        entity_id_temperature: sensor.office_room_temperature
                        entity_id_humidity: sensor.office_room_humidity
                        entity_id_ac_main: climate.heat_pump
                        entity_id_ac: climate.office_room
                        entity_id_lights: switch.light_switch_or
                        lights_icon: mdi:light-recessed
                        lights_count_sensor: sensor.lights_or_count
                        entity_id_windows: group.windows_or
                        windows_count_sensor: sensor.windows_or_count
                        entity_id_doors: binary_sensor.door_sensor_or_contact
                        doors_count_sensor: sensor.doors_or_count
                        animation_delay: 0.9s
                        navigation_path: /mobile-dashboard/office/
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Guest Bath
                        icon: m3of:water-drop
                        entity_id_temperature: sensor.guest_bathroom_temperature
                        entity_id_humidity: sensor.guest_bathroom_humidity
                        entity_id_lights: light.lights_gbr
                        lights_icon: mdi:light-recessed
                        lights_count_sensor: sensor.lights_gbr_count
                        entity_id_fans: group.guest_bathroom_fans
                        fans_count_sensor: sensor.fans_gbr_count
                        entity_id_windows: group.windows_gbr
                        windows_count_sensor: sensor.windows_gbr_count
                        animation_delay: 1.1s
                        navigation_path: /mobile-dashboard/guest-bathroom/
                  card_mod:
                    style: |
                      :host {
                        opacity: 0;
                        visibility: hidden;
                        animation: 
                          reveal 0s linear 0.6s forwards,
                          containerFadeIn 0.3s ease-out 0.6s forwards;
                      }
                      @keyframes reveal {
                        to { visibility: visible; }
                      }
                      @keyframes containerFadeIn {
                        to { opacity: 1; }
                      }
          - type: custom:vertical-stack-in-card
            cards:
              - type: conditional
                conditions:
                  - entity: input_boolean.room_toggle_one_mobile
                    state: 'on'
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Single
                        icon: m3of:person-3
                        entity_id_temperature: sensor.single_guest_room_temperature
                        entity_id_humidity: sensor.single_guest_room_humidity
                        entity_id_lights: light.lights_sgr
                        lights_icon: mdi:light-recessed
                        lights_count_sensor: sensor.lights_sgr_count
                        entity_id_ac_main: climate.heat_pump
                        entity_id_ac: climate.single_guest_room
                        entity_id_windows: group.windows_sgr
                        windows_count_sensor: sensor.windows_sgr_count
                        entity_id_doors: binary_sensor.door_sensor_sgr_contact
                        doors_count_sensor: sensor.doors_sgr_count
                        animation_delay: 1.3s
                        navigation_path: /mobile-dashboard/single-guest-room/
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Multiple
                        icon: m3of:groups-2
                        entity_id_temperature: sensor.multiple_guest_room_temperature
                        entity_id_humidity: sensor.multiple_guest_room_humidity
                        entity_id_lights: light.lights_mgr
                        lights_icon: mdi:light-recessed
                        lights_count_sensor: sensor.lights_mgr_count
                        entity_id_ac_main: climate.heat_pump
                        entity_id_ac: climate.multiple_guest_room
                        entity_id_windows: group.windows_mgr
                        windows_count_sensor: sensor.windows_mgr_count
                        entity_id_doors: binary_sensor.door_sensor_mgr_contact
                        doors_count_sensor: sensor.doors_mgr_count
                        animation_delay: 1.5s
                        navigation_path: /mobile-dashboard/multiple-guest-room/
                  card_mod:
                    style: |
                      :host {
                        opacity: 0;
                        visibility: hidden;
                        animation: 
                          reveal 0s linear 0.6s forwards,
                          containerFadeIn 0.3s ease-out 0.6s forwards;
                      }
                      @keyframes reveal {
                        to { visibility: visible; }
                      }
                      @keyframes containerFadeIn {
                        to { opacity: 1; }
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.room_toggle_two_mobile
                    state: 'on'
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Laundry
                        icon: m3of:laundry
                        entity_id_lights: switch.light_switch_lr
                        lights_icon: mdi:light-recessed
                        lights_count_sensor: sensor.lights_lr_count
                        entity_id_fans: fan.laundry_room_fan
                        fans_count_sensor: sensor.fans_lr_count
                        entity_id_doors: binary_sensor.outdoor_door_sensor_lr_contact
                        doors_count_sensor: sensor.doors_lr_count
                        room_background: '#ebd9a9'
                        animation_delay: 1.3s
                        navigation_path: /mobile-dashboard/laundry/
                    - type: custom:streamline-card
                      template: room_card
                      variables:
                        name: Hallway
                        icon: mdi:image
                        entity_id_lights: switch.light_switch_hw
                        lights_icon: mdi:light-recessed
                        lights_count_sensor: sensor.lights_hw_count
                        entity_id_windows: group.windows_hw
                        windows_count_sensor: sensor.windows_hw_count
                        room_background: '#f2ebd8'
                        animation_delay: 1.5s
                        navigation_path: /mobile-dashboard/hallway
                  card_mod:
                    style: |
                      :host {
                        opacity: 0;
                        visibility: hidden;
                        animation: 
                          reveal 0s linear 0.6s forwards,
                          containerFadeIn 0.3s ease-out 0.6s forwards;
                      }
                      @keyframes reveal {
                        to { visibility: visible; }
                      }
                      @keyframes containerFadeIn {
                        to { opacity: 1; }
                      }
      - type: grid
        cards:
          - type: custom:navbar-card
            mobile:
              show_labels: true
            haptic: true
            desktop:
              show_labels: true
              position: left
              min_width: 768
            routes:
              - url: /mobile-dashboard/overview
                label: Home
                icon: m3o:home
                icon_selected: m3of:home
              - url: /mobile-dashboard/rooms
                label: Rooms
                icon: m3o:chair
                icon_selected: mdi:sofa
              - url: /mobile-dashboard/scenes
                label: Scenes
                icon: m3o:layers
                icon_selected: m3of:layers
              - url: /mobile-dashboard/camera
                label: Camera
                icon: m3o:camera
                icon_selected: m3of:camera
              - icon: mdi:dots-horizontal
                label: More
                tap_action:
                  action: open-popup
                popup:
                  - icon: m3of:tools-wrench
                    url: /config/dashboard
            styles: |
              .navbar-card {
                background: color-mix(in srgb, var(--md-sys-color-on-primary) 70%, transparent);
                backdrop-filter: blur(50px);
                -webkit-backdrop-filter: blur(20px) !important;
                background-blend-mode: overlay;
                border-radius: 20px;
                box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
                margin-bottom: 15px;
                overflow: hidden;
                animation: fadeInUp 0.5s ease-out;
              }

              @keyframes fadeInUp {
                from {
                  opacity: 0;
                  transform: translateY(10px);
                }
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }

              .button.active {
                background: transparent;
              }

              ha-ripple {
                display: none !important;
              }
    badges: []
    header:
      layout: responsive
      badges_position: top
      badges_wrap: wrap
    cards: []
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Scenes
    path: scenes
    icon: m3o:layers
    sections:
      - type: grid
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:streamline-card
                template: back_button_card
                variables:
                  navigation_path: /mobile-dashboard/overview
              - type: custom:streamline-card
                template: page_title_card
                variables:
                  title: Preset
              - type: custom:streamline-card
                template: more-options-card
                variables:
                  navigation_path: '#room-selector'
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Refreshing
              animation_delay: 1.2s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 1.4s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Blossom.webp
                      scene_value: blossom
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Crocus.webp
                      scene_value: crocus
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Precious.webp
                      scene_value: precious
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Narcissa.webp
                      scene_value: narcissa
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Peaceful
              animation_delay: 1.6s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 1.8s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Mountain breeze.webp
                      scene_value: mountain_breeze
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Lake mist.webp
                      scene_value: lake_mist
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Sunday morning.webp
                      scene_value: sunday_morning
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Spring blossom.webp
                      scene_value: spring_blossom
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Cozy
              animation_delay: 2.0s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 2.2s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Rolling hills.webp
                      scene_value: rolling_hills
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Dreamy dusk.webp
                      scene_value: dreamy_dusk
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Savannah sunset.webp
                      scene_value: savannah_sunset
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Ruby glow.webp
                      scene_value: ruby_glow
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Golden pond.webp
                      scene_value: golden_pond
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Tropical twilight.webp
                      scene_value: tropical_twilight
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Dreamy
              animation_delay: 2.4s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 2.6s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Still waters.webp
                      scene_value: still_waters
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Adrift.webp
                      scene_value: adrift
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Blue lagoon.webp
                      scene_value: blue_lagoon
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Palm Beach.webp
                      scene_value: palm_beach
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Majestic morning.webp
                      scene_value: majestic_morning
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Pensive.webp
                      scene_value: pensive
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Pure
              animation_delay: 2.8s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 3.0s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Amethyst Valley.webp
                      scene_value: amethyst_valley
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Hazy Days.webp
                      scene_value: hazy_days
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Spring lake.webp
                      scene_value: spring_lake
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Midwinter.webp
                      scene_value: midwinter
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Autumn gold.webp
                      scene_value: autumn_gold
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Misty ridge.webp
                      scene_value: misty_ridge
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Serenity
              animation_delay: 3.2s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 3.4s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Galaxy.webp
                      scene_value: galaxy
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Arctic aurora.webp
                      scene_value: arctic_aurora
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Moonlight.webp
                      scene_value: moonlight
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Nebula.webp
                      scene_value: nebula
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Starlight.webp
                      scene_value: starlight
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Blood moon.webp
                      scene_value: blood_moon
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Romantic
              animation_delay: 3.6s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 3.8s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Ruby romance.webp
                      scene_value: ruby_romance
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/City of love.webp
                      scene_value: city_of_love
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Sunset allure.webp
                      scene_value: sunset_allure
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Lovebirds.webp
                      scene_value: lovebirds
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Smitten.webp
                      scene_value: smitten
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Promise.webp
                      scene_value: promise
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Party
              animation_delay: 4.0s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 4.2s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Fairfax.webp
                      scene_value: fairfax
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Tokyo.webp
                      scene_value: tokyo
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Miami.webp
                      scene_value: mmiami
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Cancun.webp
                      scene_value: cancun
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Osaka.webp
                      scene_value: osaka
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Motown.webp
                      scene_value: motown
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Ibiza.webp
                      scene_value: ibiza
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Chinatown.webp
                      scene_value: chinatown
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Luxurious
              animation_delay: 4.4s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 4.6s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Emerald flutter.webp
                      scene_value: emerald_flutter
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Memento.webp
                      scene_value: memento
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Resplendent.webp
                      scene_value: resplendent
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Scarlet dream.webp
                      scene_value: scarlet_dream
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Race Day
              animation_delay: 4.8s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 5.0s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Zandvoort.webp
                      scene_value: zandvoort
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Bahrain.webp
                      scene_value: bahrain
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Silverstone.webp
                      scene_value: silverstone
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Sao Paulo.webp
                      scene_value: sao_paulo
          - type: custom:streamline-card
            template: scene_title_card
            variables:
              subtitle: Holiday
              animation_delay: 5.2s
          - type: custom:simple-swipe-card
            view_mode: carousel
            card_min_width: 400
            card_spacing: 8
            show_pagination: false
            auto_hide_pagination: 0
            auto_height: false
            loop_mode: infinite
            card_mod:
              style: |
                :host {
                  animation: slideDown 0.15s ease-out 5.4s both;
                }
                @keyframes slideDown {
                  from { 
                    opacity: 0;
                    transform: translateY(-20px);
                  }
                  to { 
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Under The Tree.webp
                      scene_value: under_the_tree
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Snow Sparkle.webp
                      scene_value: snow_sparkle
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Silent Night.webp
                      scene_value: silent_night
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Rosy Sparkle.webp
                      scene_value: rosy_sparkle
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Color Burst.webp
                      scene_value: color_burst
                  - type: custom:streamline-card
                    template: scene_button_card
                    variables:
                      img_path: /local/hue/raw/Festive Fun.webp
                      scene_value: festive_fun
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#room-selector'
                name: Room Selector
                icon: m3o:room-preferences
                styles: |-
                  #root {
                          height: unset !important;
                          max-height: 100% !important;
                          transition: transform var(--md-sys-motion-expressive-spatial-default) !important;
                        }
                        .bubble-pop-up-container {
                          padding-bottom: 64px !important;

                        }
                bg_color: var(--card-background-color)
                button_type: name
                sub_button:
                  main: []
                  bottom: []
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-template-card
                    icon: m3of:table-restaurant
                    primary: Dining
                    secondary: >-
                      {{ states('input_text.dining_table_dynamic_scene_active')
                      }}
                    tap_action:
                      action: call-service
                      service: script.toggle_or_apply_dynamic_scene
                      data:
                        room_lights:
                          - light.light_one_dt
                          - light.light_two_dt
                          - light.light_three_dt
                          - light.light_one_ktc_dt
                          - light.light_two_ktc_dt
                          - light.light_three_ktc_dt
                        presence_automation:
                          - automation.room_presence_dining_table
                        room_boolean: input_boolean.dining_table_dynamic_scene
                        room_scene_tracker: input_text.dining_table_dynamic_scene_active
                    color: >-
                      {% if
                      states('input_text.dining_table_dynamic_scene_active') !=
                      '' %}
                        #d53e4f
                      {% else %}
                        #aaaaaa
                      {% endif %}
                    features_position: bottom
                  - type: custom:mushroom-template-card
                    icon: mdi:sofa
                    primary: Sofa
                    tap_action:
                      action: call-service
                      service: script.toggle_or_apply_dynamic_scene
                      data:
                        room_lights:
                          - light.light_one_sofa
                          - light.light_two_sofa
                          - light.light_three_sofa
                          - light.light_four_sofa
                        presence_automation:
                          - automation.room_presence_sofa
                          - automation.sofa_sensor_workaround
                        room_boolean: input_boolean.sofa_dynamic_scene
                        room_scene_tracker: input_text.sofa_dynamic_scene_active
                    secondary: '{{ states(''input_text.sofa_dynamic_scene_active'') }}'
                    color: >-
                      {% if states('input_text.sofa_dynamic_scene_active') != ''
                      %}
                        #fc8d59
                      {% else %}
                        #aaaaaa
                      {% endif %}
                    features_position: bottom
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-template-card
                    icon: m3of:bed
                    primary: Master
                    tap_action:
                      action: call-service
                      service: script.toggle_or_apply_dynamic_scene
                      data:
                        room_lights:
                          - light.light_one_mbr
                          - light.light_two_mbr
                        presence_automation: automation.room_presence_master_bedroom
                        room_boolean: input_boolean.master_bedroom_dynamic_scene
                        room_scene_tracker: input_text.master_bedroom_dynamic_scene_active
                    secondary: >-
                      {{
                      states('input_text.master_bedroom_dynamic_scene_active')
                      }}
                    color: >-
                      {% if
                      states('input_text.master_bedroom_dynamic_scene_active')
                      != '' %}
                        #fee08b
                      {% else %}
                        #aaaaaa
                      {% endif %}
                    features_position: bottom
                  - type: custom:mushroom-template-card
                    icon: m3of:stroller
                    primary: Baby
                    tap_action:
                      action: call-service
                      service: script.toggle_or_apply_dynamic_scene
                      data:
                        room_lights:
                          - light.light_one_br
                          - light.light_two_br
                          - light.bed_led_1
                          - light.bed_led_2
                        presence_automation: automation.room_presence_baby_room
                        room_boolean: input_boolean.baby_room_dynamic_scene
                        room_scene_tracker: input_text.baby_room_dynamic_scene_active
                    secondary: '{{ states(''input_text.baby_room_dynamic_scene_active'') }}'
                    color: >-
                      {% if states('input_text.baby_room_dynamic_scene_active')
                      != '' %}
                        #e6f598
                      {% else %}
                        #aaaaaa
                      {% endif %}
                    features_position: bottom
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-template-card
                    icon: m3of:person-3
                    primary: Single
                    tap_action:
                      action: perform-action
                      data:
                        room_lights:
                          - light.light_one_sgr
                          - light.light_two_sgr
                          - light.bed_led_sgr
                        presence_automation: automation.room_presence_single_guest_room
                        room_boolean: input_boolean.single_guest_room_dynamic_scene
                        room_scene_tracker: input_text.single_guest_room_dynamic_scene_active
                      perform_action: script.toggle_or_apply_dynamic_scene
                      target: {}
                    secondary: >-
                      {{
                      states('input_text.single_guest_room_dynamic_scene_active')
                      }}
                    color: >-
                      {% if
                      states('input_text.single_guest_room_dynamic_scene_active')
                      != '' %}
                        #d0e0e3
                      {% else %}
                        #aaaaaa
                      {% endif %}
                    features_position: bottom
                  - type: custom:mushroom-template-card
                    icon: m3of:groups-2
                    primary: Multiple
                    tap_action:
                      action: perform-action
                      data:
                        room_lights:
                          - light.light_one_mgr
                          - light.light_two_mgr
                          - light.bed_led_mgr
                        presence_automation: automation.room_presence_multiple_guest_room
                        room_boolean: input_boolean.multiple_guest_room_dynamic_scene
                        room_scene_tracker: input_text.multiple_guest_room_dynamic_scene_active
                      perform_action: script.toggle_or_apply_dynamic_scene
                      target: {}
                    secondary: >-
                      {{
                      states('input_text.multiple_guest_room_dynamic_scene_active')
                      }}
                    color: >-
                      {% if
                      states('input_text.multiple_guest_room_dynamic_scene_active')
                      != '' %}
                        #000000
                      {% else %}
                        #aaaaaa
                      {% endif %}
                    features_position: bottom
              - type: custom:streamline-card
                template: title_card
                variables:
                  title: Scenes Control
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: number_slider_card
                    variables:
                      entity: input_number.dynamic_scene_brightness
                      name: Brightness
                      icon: mdi:brightness-6
                  - type: custom:streamline-card
                    template: number_slider_card
                    variables:
                      entity: input_number.dynamic_scene_interval
                      name: Interval
                      icon: mdi:timer
              - type: custom:bubble-card
                card_type: separator
                styles: |-
                  .bubble-icon,
                  .bubble-name {
                    display: none;
                  }
                  .bubble-line {
                    margin-right: 0;
                    height: 4px;
                    max-width: 32px;
                    opacity: 1;
                    background: var(--md-sys-color-on-surface-variant);
                  }
                  .bubble-separator {
                    height: min-content !important;
                    justify-content: center;
                  }
      - type: grid
        cards:
          - type: custom:navbar-card
            mobile:
              show_labels: true
            haptic: true
            desktop:
              show_labels: true
              position: left
              min_width: 768
            routes:
              - url: /mobile-dashboard/overview
                label: Home
                icon: m3o:home
                icon_selected: m3of:home
              - url: /mobile-dashboard/rooms
                label: Rooms
                icon: m3o:chair
                icon_selected: mdi:sofa
              - url: /mobile-dashboard/scenes
                label: Scenes
                icon: m3o:layers
                icon_selected: m3of:layers
              - url: /mobile-dashboard/camera
                label: Camera
                icon: m3o:camera
                icon_selected: m3of:camera
              - icon: mdi:dots-horizontal
                label: More
                tap_action:
                  action: open-popup
                popup:
                  - icon: m3of:tools-wrench
                    url: /config/dashboard
                  - icon: m3o:room-preferences
                    url: '#room-selector'
            styles: |
              .navbar-card {
                background: color-mix(in srgb, var(--md-sys-color-on-primary) 70%, transparent);
                backdrop-filter: blur(50px);
                -webkit-backdrop-filter: blur(20px) !important;
                background-blend-mode: overlay;
                border-radius: 20px;
                box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
                margin-bottom: 15px;
                overflow: hidden;

                /* ð animation */
                animation: fadeInUp 0.5s ease-out;
              }

              @keyframes fadeInUp {
                from {
                  opacity: 0;
                  transform: translateY(10px);
                }
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }

              .button.active {
                background: transparent;
              }

              ha-ripple {
                display: none !important;
              }
    cards: []
    badges: []
    header:
      layout: responsive
      badges_position: top
      badges_wrap: wrap
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Camera
    path: camera
    icon: m3o:camera
    sections:
      - type: grid
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:streamline-card
                template: back_button_card
                variables:
                  navigation_path: /mobile-dashboard/overview
              - type: custom:streamline-card
                template: page_title_card
                variables:
                  title: Security
              - type: custom:streamline-card
                template: more-options-card
                variables:
                  navigation_path: '#security-panel'
          - type: vertical-stack
            cards:
              - type: custom:stack-in-card
                mode: vertical
                cards:
                  - type: custom:streamline-card
                    template: title_subtitle_card
                    variables:
                      title: ð Driveway
                      subtitle: '{{ states (''sensor.right_driveway_camera_status'') }}'
                      animation_delay: 0.5s
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: template
                        entity: automation.driveway_camera_vehicle_notification
                        icon: >
                          {{ 'mdi:car' if
                          is_state('automation.driveway_camera_vehicle_notification',
                          'on') else 'mdi:car-off' }}
                        tap_action:
                          action: toggle
                        card_mod:
                          style: |
                            ha-card {
                              animation: slideDown 1.0s ease-out 1.0s both;
                            }
                            @keyframes slideDown {
                              from { 
                                opacity: 0;
                                transform: translateY(-20px);
                              }
                              to { 
                                opacity: 1;
                                transform: translateY(0);
                              }
                            }
                      - type: template
                        entity: automation.driveway_camera_person_notification
                        icon: >
                          {{ 'm3of:sensor-occupied' if
                          is_state('automation.driveway_camera_person_notification',
                          'on') else 'm3o:sensors-krx-off' }}
                        tap_action:
                          action: toggle
                        card_mod:
                          style: |
                            ha-card {
                              animation: slideDown 1.0s ease-out 1.3s both;
                            }
                            @keyframes slideDown {
                              from { 
                                opacity: 0;
                                transform: translateY(-20px);
                              }
                              to { 
                                opacity: 1;
                                transform: translateY(0);
                              }
                            }
                    card_mod:
                      style: |
                        ha-card {
                          position: absolute;
                          top: 22px;
                          right: 2px;
                        }
              - type: custom:simple-swipe-card
                auto_hide_pagination: 0
                auto_height: true
                cards:
                  - type: vertical-stack
                    cards:
                      - type: custom:webrtc-camera
                        url: >-
                          ffmpeg:rtsp://<id:password>@192.168.1.150/h265Preview_01_main#video=copy#audio=opus
                        muted: true
                      - type: custom:streamline-card
                        template: spacer_card
                        variables:
                          padding: 10px
                  - type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: camera_rtsp_with_chips_card
                        variables:
                          camera_url: >-
                            ffmpeg:rtsp://<id:password>@192.168.1.245/h265Preview_01_main#video=copy#audio=opus
                          entity_id_light_one: switch.light_switch_drw
                          light_one_icon: m3of:lightbulb
                          entity_id_light_two: switch.porch_light
                          light_two_icon: m3of:lightbulb
                      - type: custom:streamline-card
                        template: spacer_card
                        variables:
                          padding: 10px
                card_mod:
                  style: |
                    :host {
                      --simple-swipe-card-pagination-dot-active-color: var(--md-sys-color-primary);
                      --simple-swipe-card-pagination-dot-inactive-color: var(--md-sys-color-on-primary);
                      --simple-siwipe-card-pagnation-dot-size: 7px;
                       animation: fadeIn 2.5s ease-out  0.8s both;
                    }
                    @keyframes fadeIn {
                      from { 
                        opacity: 0;
                      }
                      to { 
                        opacity: 1;
                      }
                    }
              - type: custom:stack-in-card
                mode: vertical
                cards:
                  - type: custom:streamline-card
                    template: title_subtitle_card
                    variables:
                      title: ð¶ Left Walkway
                      subtitle: '{{ states (''sensor.left_walkway_camera_status'') }}'
                      animation_delay: 1.0s
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: template
                        entity: automation.left_walkway_camera_person_notification
                        icon: >
                          {{ 'm3of:sensor-occupied' if
                          is_state('automation.left_walkway_camera_person_notification',
                          'on') else 'm3o:sensors-krx-off' }}
                        tap_action:
                          action: toggle
                        card_mod:
                          style: |
                            ha-card {
                              animation: slideDown 1.0s ease-out 1.7s both;
                            }
                            @keyframes slideDown {
                              from { 
                                opacity: 0;
                                transform: translateY(-20px);
                              }
                              to { 
                                opacity: 1;
                                transform: translateY(0);
                              }
                            }  
                    card_mod:
                      style: |
                        ha-card {
                          position: absolute;
                          top: 22px;
                          right: 2px;
                        }
              - type: custom:streamline-card
                template: camera_generic_with_chips_card
                variables:
                  camera_entity: camera.left_walkway_camera_fluent
                  entity_id_light_one: switch.outdoor_light_switch_lr
                  light_one_icon: mdi:outdoor-lamp
                  entity_id_light_two: switch.rear_light_switch_grg
                  light_two_icon: mdi:outdoor-lamp
                  animation_delay: 2.5s
              - type: custom:stack-in-card
                mode: vertical
                cards:
                  - type: custom:streamline-card
                    template: title_subtitle_card
                    variables:
                      title: ð¶ Right Walkway
                      subtitle: '{{ states (''sensor.right_walkway_camera_status'') }}'
                      animation_delay: 1.4s
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: template
                        entity: automation.right_walkway_camera_person_notification
                        icon: >
                          {{ 'm3of:sensor-occupied' if
                          is_state('automation.right_walkway_camera_person_notification',
                          'on') else 'm3o:sensors-krx-off' }}
                        tap_action:
                          action: toggle
                        card_mod:
                          style: |
                            ha-card {
                              animation: slideDown 1.0s ease-out 2.1s both;
                            }
                            @keyframes slideDown {
                              from { 
                                opacity: 0;
                                transform: translateY(-20px);
                              }
                              to { 
                                opacity: 1;
                                transform: translateY(0);
                              }
                            }    
                    card_mod:
                      style: |
                        ha-card {
                          position: absolute;
                          top: 22px;
                          right: 2px;
                          animation: slideDown 1.0s ease-out 1.5s both;
                        }
                        @keyframes slideDown {
                          from { 
                            opacity: 0;
                            transform: translateY(-20px);
                          }
                          to { 
                            opacity: 1;
                            transform: translateY(0);
                          }
                        }
              - type: custom:streamline-card
                template: camera_rtsp_with_chips_card
                variables:
                  camera_url: >-
                    ffmpeg:rtsp://<id:password>@192.168.1.244/h265Preview_01_main#video=copy#audio=opus
                  entity_id_light_one: switch.patio_main_switch_la
                  entity_id_light_two: switch.patio_side_switch_la
                  light_one_icon: mdi:outdoor-lamp
                  light_two_icon: mdi:outdoor-lamp
                  animation_delay: 3.5s
              - type: custom:stack-in-card
                mode: vertical
                cards:
                  - type: custom:streamline-card
                    template: title_subtitle_card
                    variables:
                      title: ð³ Backyard
                      subtitle: '{{ states (''sensor.backyard_camera_status'') }}'
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: template
                        entity: automation.right_backyard_camera_person_notification
                        icon: >
                          {{ 'm3of:sensor-occupied' if
                          is_state('automation.right_backyard_camera_person_notification',
                          'on') else 'm3o:sensors-krx-off' }}
                        tap_action:
                          action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          position: absolute;
                          top: 22px;
                          right: 2px;
                        }
              - type: custom:streamline-card
                template: camera_rtsp_with_chips_card
                variables:
                  camera_url: >-
                    ffmpeg:rtsp://<id:password>@192.168.1.148/h264Preview_01_main#video=copy#audio=opus
                  entity_id_light_one: switch.patio_main_switch_la
                  light_one_icon: m3of:lightbulb
              - type: custom:stack-in-card
                mode: vertical
                cards:
                  - type: custom:streamline-card
                    template: title_subtitle_card
                    variables:
                      title: ð Garage
                      subtitle: '{{ states (''sensor.garage_camera_status'') }}'
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: template
                        entity: switch.fingerbot_grg
                        icon: >
                          {% if
                          is_state('binary_sensor.door_sensor_grg_contact',
                          'on') %}
                            mdi:garage-open-variant
                          {% else %}
                            mdi:garage-variant
                          {% endif %}
                        content: >
                          {% if
                          is_state('binary_sensor.door_sensor_grg_contact',
                          'on') %}
                            Open
                          {% else %}
                            Closed
                          {% endif %}
                        icon_color: white
                        tap_action:
                          action: toggle
                        card_mod:
                          style: |
                            ha-card {
                              --chip-background: {{ '#bc000a' if is_state('binary_sensor.door_sensor_grg_contact', 'on') else none }};    
                            }
                      - type: template
                        entity: automation.garage_camera_person_notification
                        icon: >
                          {{ 'm3of:sensor-occupied' if
                          is_state('automation.garage_camera_person_notification',
                          'on') else 'm3o:sensors-krx-off' }}
                        tap_action:
                          action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          position: absolute;
                          top: 22px;
                          right: 2px;
                        }
              - type: custom:streamline-card
                template: camera_rtsp_with_chips_card
                variables:
                  camera_url: >-
                    ffmpeg:rtsp://<id:password>@192.168.1.248/h264Preview_01_main#video=copy#audio=opus
                  entity_id_light_one: switch.light_switch_grg
                  light_one_icon: mdi:garage-variant
                  entity_id_light_two: switch.rear_light_switch_grg
                  light_two_icon: mdi:outdoor-lamp
              - type: custom:stack-in-card
                mode: vertical
                cards:
                  - type: custom:streamline-card
                    template: title_subtitle_card
                    variables:
                      title: ðª Entrance
                      subtitle: '{{ states (''sensor.entrance_camera_status'') }}'
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: template
                        entity: automation.driveway_camera_vehicle_notification
                        icon: >-
                          {{ 'm3of:sensor-occupied' if
                          is_state('automation.room_presence_entrance', 'on')
                          else 'm3o:sensors-krx-off' }}
                        tap_action:
                          action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          position: absolute;
                          top: 22px;
                          right: 2px;
                        }
              - type: custom:streamline-card
                template: camera_rtsp_with_chips_card
                variables:
                  camera_url: >-
                    ffmpeg:rtsp://<id:password>@192.168.1.222/h264Preview_01_main#video=copy#audio=opus
                  entity_id_light_one: light.lights_etr
                  light_one_icon: m3of:lightbulb
      - type: grid
        cards:
          - type: custom:navbar-card
            mobile:
              show_labels: true
            haptic: true
            desktop:
              show_labels: true
              position: left
              min_width: 768
            routes:
              - url: /mobile-dashboard/overview
                label: Home
                icon: m3o:home
                icon_selected: m3of:home
              - url: /mobile-dashboard/rooms
                label: Rooms
                icon: m3o:chair
                icon_selected: mdi:sofa
              - url: /mobile-dashboard/scenes
                label: Scenes
                icon: m3o:layers
                icon_selected: m3of:layers
              - url: /mobile-dashboard/camera
                label: Camera
                icon: m3o:camera
                icon_selected: m3of:camera
              - icon: mdi:dots-horizontal
                label: More
                tap_action:
                  action: open-popup
                popup:
                  - icon: m3of:tools-wrench
                    url: /config/dashboard
            styles: |
              .navbar-card {
                background: color-mix(in srgb, var(--md-sys-color-on-primary) 70%, transparent);
                backdrop-filter: blur(50px);
                -webkit-backdrop-filter: blur(20px) !important;
                background-blend-mode: overlay;
                border-radius: 20px;
                box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
                margin-bottom: 15px;
                overflow: hidden;

                /* ð animation */
                animation: fadeInUp 0.5s ease-out;
              }

              @keyframes fadeInUp {
                from {
                  opacity: 0;
                  transform: translateY(10px);
                }
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }

              .button.active {
                background: transparent;
              }

              ha-ripple {
                display: none !important;
              }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#security-panel'
                name: Security Panel
                icon: mdi:cctv
                styles: |-
                  #root {
                          height: unset !important;
                          max-height: 100% !important;
                          transition: transform var(--md-sys-motion-expressive-spatial-default) !important;
                        }
                        .bubble-pop-up-container {
                          padding-bottom: 64px !important;

                        }
                bg_color: var(--card-background-color)
                button_type: name
                sub_button:
                  main: []
                  bottom: []
                slider_fill_orientation: left
                slider_value_position: right
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                buttons:
                  - entity: input_boolean.siren_alarm
                    state_icons:
                      'on': m3of:siren
                      'off': m3o:siren
                    layout: icon_name
                    name: SIREN ALARM
                    tap_action:
                      action: call-service
                      service: script.alarmo_sound_alarm
                    styles:
                      name:
                        color: grey
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                      icon:
                        '--mdc-icon-size': 26px
                        color: grey
                    state_styles:
                      'on':
                        icon:
                          color: red
                        name:
                          color: red
              - states:
                  - arm_away
                type: alarm-panel
                entity: alarm_control_panel.alarmo
                name: Alarmo
                theme: Material You
      - type: grid
        cards: []
    badges: []
    header:
      layout: responsive
      badges_position: top
      badges_wrap: wrap
    cards: []
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Irrigation
    path: irrigation
    icon: m3of:sprinkler
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/overview
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Irrigation
                  - type: custom:streamline-card
                    template: spacer_card
                    variables: {}
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 6px 0 20px 0
                  width: 100%
                buttons:
                  - layout: name
                    name: Current water restriction
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.current_water_restriction
                    name: '{{ states(''sensor.current_water_restriction'') }}'
                    tap_action:
                      action: more-info
                    styles:
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                  - layout: name
                    name: Â·
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 1.1s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.current_water_restriction_description
                    name: >-
                      {{ states('sensor.current_water_restriction_description')
                      }}
                    tap_action:
                      action: more-info
                    styles:
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        animation: slideInLeft 0.6s ease-out 1.3s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-on-primary)
              active-text-color: var(--md-sys-color-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Driveway
                  icon: mdi:car
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_subtitle_card
                        variables:
                          - title: ð Driveway
                          - subtitle: '{{ states(''sensor.driveway_water_tap_status'') }}'
                      - type: custom:vertical-stack-in-card
                        cards:
                          - type: horizontal-stack
                            cards:
                              - type: custom:mushroom-template-card
                                entity: switch.driveway_water_tap
                                primary: >
                                  {{ states('sensor.driveway_water_tap_flow') |
                                  round(1) }} mÂ³/h
                                secondary: >
                                  {% set flow =
                                  states('sensor.driveway_water_tap_flow') |
                                  float(0) %}

                                  {% if is_state('switch.driveway_water_tap',
                                  'on') %}
                                    {% if flow < 0.1 %} Minimal Water Flow
                                    {% elif flow < 0.3 %} Low Water Flow
                                    {% elif flow < 0.6 %} Moderate Water Flow
                                    {% else %} High Water Flow
                                    {% endif %}
                                  {% else %}
                                    Water Flow
                                  {% endif %}
                                icon: m3of:sprinkler
                                tap_action:
                                  action: toggle
                                color: >
                                  {% set flow =
                                  states('sensor.driveway_water_tap_flow') |
                                  float %}

                                  {% if flow < 0.1 %} #A9A9A9

                                  {% elif flow < 0.3 %} #ffd34f

                                  {% elif flow < 0.6 %} #9fe7e8

                                  {% else %} #36a9e2

                                  {% endif %}
                                features_position: bottom
                              - type: conditional
                                conditions:
                                  - condition: state
                                    entity: timer.driveway_sprinkler_timer
                                    state: active
                                card:
                                  type: custom:timer-bar-card
                                  entity: timer.driveway_sprinkler_timer
                                  name: Sprinkler
                                  invert: true
                                  bar_direction: ltr
                                  bar_width: 60%
                                  mushroom:
                                    layout: horizontal
                                    color: '#4CBB17'
                          - type: custom:config-template-card
                            entities:
                              - sensor.driveway_water_tap_flow
                            variables:
                              - states['sensor.driveway_water_tap_flow'].state
                            card:
                              type: custom:mini-graph-card
                              entities:
                                - entity: sensor.driveway_water_tap_flow
                                  name: Driveway Water Flow
                                  color: |-
                                    ${vars[0] < 0.1 ? '#a9a9a9' :     
                                      (vars[0] < 0.3 ? '#ffd34f' :
                                      (vars[0] < 0.6 ? '#9fe7e8' :
                                      '#36a9e2'))}
                              hours_to_show: 24
                              line_width: 3
                              font_size: 50
                              animate: true
                              height: 150
                              show:
                                name: false
                                icon: false
                                state: false
                                legend: false
                                fill: fade
                      - type: custom:streamline-card
                        template: spacer_card
                        variables:
                          padding: 25px
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          - title: Irrigation Control
                      - type: horizontal-stack
                        cards:
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 5 min
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: driveway
                                duration: '00:05:00'
                            vertical: true
                            features_position: bottom
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 15 min
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: driveway
                                duration: '00:15:00'
                            layout: vertical
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 30 min
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: driveway
                                duration: '00:30:00'
                            layout: vertical
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 1 hr
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: driveway
                                duration: '01:00:00'
                            layout: vertical
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 2 hr
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: driveway
                                duration: '02:00:00'
                            vertical: true
                            features_position: bottom
                - title: 'Right Walkway '
                  icon: mdi:walk
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_subtitle_card
                        variables:
                          title: ð¶ð» Right Walkway
                          subtitle: >-
                            {{ states('sensor.right_walkway_water_tap_status')
                            }}
                      - type: custom:vertical-stack-in-card
                        cards:
                          - type: horizontal-stack
                            cards:
                              - type: custom:mushroom-template-card
                                entity: switch.right_walkway_water_tap
                                primary: >
                                  {{
                                  states('sensor.right_walkway_water_tap_flow')
                                  | round(1) }} mÂ³/h
                                secondary: >
                                  {% set flow =
                                  states('sensor.right_walkway_water_tap_flow')
                                  | float(0) %}

                                  {% if
                                  is_state('switch.right_walkway_water_tap',
                                  'on') %}
                                    {% if flow < 0.1 %} Minimal water flow
                                    {% elif flow < 0.3 %} Low water flow
                                    {% elif flow < 0.6 %} Moderate water flow
                                    {% else %} High water flow
                                    {% endif %}
                                  {% else %}
                                    Water Flow
                                  {% endif %}
                                icon: m3of:sprinkler
                                tap_action:
                                  action: toggle
                                color: >
                                  {% set flow =
                                  states('sensor.right_walkway_water_tap_flow')
                                  | float %}

                                  {% if flow < 0.1 %} #A9A9A9

                                  {% elif flow < 0.3 %} #ffd34f

                                  {% elif flow < 0.6 %} #9fe7e8

                                  {% else %} #36a9e2

                                  {% endif %}
                                features_position: bottom
                              - type: conditional
                                conditions:
                                  - condition: state
                                    entity: timer.right_walkway_sprinkler_timer
                                    state: active
                                card:
                                  type: custom:timer-bar-card
                                  entity: timer.right_walkway_sprinkler_timer
                                  name: Sprinkler
                                  invert: true
                                  bar_direction: ltr
                                  bar_width: 60%
                                  mushroom:
                                    layout: horizontal
                                    color: '#4CBB17'
                          - type: custom:config-template-card
                            entities:
                              - sensor.right_walkway_water_tap_flow
                            variables:
                              - >-
                                states['sensor.right_walkway_water_tap_flow'].state
                            card:
                              type: custom:mini-graph-card
                              entities:
                                - entity: sensor.right_walkway_water_tap_flow
                                  name: right_walkway Water Flow
                                  color: |-
                                    ${vars[0] < 0.1 ? '#a9a9a9' :     
                                      (vars[0] < 0.3 ? '#ffd34f' :
                                      (vars[0] < 0.6 ? '#9fe7e8' :
                                      '#36a9e2'))}
                              hours_to_show: 24
                              line_width: 3
                              font_size: 50
                              animate: true
                              height: 150
                              show:
                                name: false
                                icon: false
                                state: false
                                legend: false
                                fill: fade
                          - type: custom:streamline-card
                            template: spacer_card
                            variables:
                              padding: 25px
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          title: Irrigation Control
                      - type: horizontal-stack
                        cards:
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 5 min
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: right_walkway
                                duration: '00:05:00'
                            vertical: true
                            features_position: bottom
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 15 min
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: right_walkway
                                duration: '00:15:00'
                            layout: vertical
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 30 min
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: right_walkway
                                duration: '00:30:00'
                            layout: vertical
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 1 hr
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: right_walkway
                                duration: '01:00:00'
                            layout: vertical
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 2 hr
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: right_walkway
                                duration: '02:00:00'
                            layout: vertical
                - title: Backyard
                  icon: mdi:tree
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_subtitle_card
                        variables:
                          - title: ð Backyard
                          - subtitle: '{{ states(''sensor.backyard_water_tap_status'') }}'
                      - type: custom:vertical-stack-in-card
                        cards:
                          - type: horizontal-stack
                            cards:
                              - type: custom:mushroom-template-card
                                entity: switch.backyard_water_tap
                                primary: >
                                  {{ states('sensor.backyard_water_tap_flow') |
                                  round(1) }} mÂ³/h
                                secondary: >
                                  {% set flow =
                                  states('sensor.backyard_water_tap_flow') |
                                  float(0) %}

                                  {% if is_state('switch.backyard_water_tap',
                                  'on') %}
                                    {% if flow < 0.1 %} Minimal Water Flow
                                    {% elif flow < 0.3 %} Low Water Flow
                                    {% elif flow < 0.6 %} Moderate Water Flow
                                    {% else %} High Water Flow
                                    {% endif %}
                                  {% else %}
                                    Water Flow
                                  {% endif %}
                                icon: m3of:sprinkler
                                tap_action:
                                  action: toggle
                                color: >
                                  {% set flow =
                                  states('sensor.backyard_water_tap_flow') |
                                  float %}

                                  {% if flow < 0.1 %} #A9A9A9

                                  {% elif flow < 0.3 %} #ffd34f

                                  {% elif flow < 0.6 %} #9fe7e8

                                  {% else %} #36a9e2

                                  {% endif %}
                                features_position: bottom
                              - type: conditional
                                conditions:
                                  - condition: state
                                    entity: timer.backyard_sprinkler_timer
                                    state: active
                                card:
                                  type: custom:timer-bar-card
                                  entity: timer.backyard_sprinkler_timer
                                  name: Sprinkler
                                  invert: true
                                  bar_direction: ltr
                                  bar_width: 60%
                                  mushroom:
                                    layout: horizontal
                                    color: '#4CBB17'
                          - type: custom:config-template-card
                            entities:
                              - sensor.backyard_water_tap_flow
                            variables:
                              - states['sensor.backyard_water_tap_flow'].state
                            card:
                              type: custom:mini-graph-card
                              entities:
                                - entity: sensor.backyard_water_tap_flow
                                  name: Backyard Water Flow
                                  color: |-
                                    ${vars[0] < 0.1 ? '#a9a9a9' :     
                                      (vars[0] < 0.3 ? '#ffd34f' :
                                      (vars[0] < 0.6 ? '#9fe7e8' :
                                      '#36a9e2'))}
                              hours_to_show: 24
                              line_width: 3
                              font_size: 50
                              animate: true
                              height: 150
                              show:
                                name: false
                                icon: false
                                state: false
                                legend: false
                                fill: fade
                          - type: horizontal-stack
                            cards:
                              - type: custom:mushroom-template-card
                                entity: sensor.average_backyard_soil_humidity
                                icon: m3of:water-drop
                                primary: >
                                  {% set moisture =
                                  states('sensor.average_backyard_soil_moisture')
                                  | float(0) %} Moisture: {{ moisture | round(1)
                                  }} %
                                secondary: >
                                  {% set moisture =
                                  states('sensor.average_backyard_soil_moisture')
                                  | float(0) %}

                                  {% if moisture < 15 %}
                                    Very Dry
                                  {% elif moisture < 25 %}
                                    Dry
                                  {% elif moisture < 45 %}
                                    Moist
                                  {% else %}
                                    Wet
                                  {% endif %}
                                color: >
                                  {% set moisture =
                                  states('sensor.average_backyard_soil_moisture')
                                  | float(0) %} {% if moisture < 15 %}
                                    #A9A9A9
                                  {% elif moisture < 25 %}
                                    #ffd34f
                                  {% elif moisture < 45 %}
                                    #9fe7e8
                                  {% else %}
                                    #36a9e2
                                  {% endif %}
                                features_position: bottom
                                multiline_secondary: true
                              - type: custom:mushroom-template-card
                                entity: sensor.average_backyard_soil_temperature
                                icon: m3of:thermometer
                                primary: >
                                  {% set temp =
                                  states('sensor.average_backyard_soil_temperature')
                                  | float(0) %} Temp: {{ temp | round(1) }} {{
                                  state_attr('weather.forecast_home',
                                  'temperature_unit') }}
                                secondary: >
                                  {% set temp =
                                  states('sensor.average_backyard_soil_temperature')
                                  | float(0) %}

                                  {% if temp < 16 %}
                                    Very Cold
                                  {% elif temp < 18 %}
                                    Cool
                                  {% elif temp < 22 %}
                                    Mild
                                  {% elif temp < 24 %}
                                    Warm
                                  {% elif temp < 27 %}
                                    Hot
                                  {% else %}
                                    Very Hot
                                  {% endif %}
                                color: >
                                  {% set temp =
                                  states('sensor.average_backyard_soil_temperature')
                                  | float(0) %} {% if temp < 16 %}
                                    #CEB2F5
                                  {% elif temp < 18 %}
                                    #5EBDEE
                                  {% elif temp < 22 %}
                                    #9cc8b8
                                  {% elif temp < 24 %}
                                    #e7b562
                                  {% elif temp < 27 %}
                                    #FF564B
                                  {% else %}
                                    #99332d
                                  {% endif %}
                                features_position: bottom
                                multiline_secondary: true
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          - title: Irrigation Control
                      - type: horizontal-stack
                        cards:
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 5 min
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: backyard
                                duration: '00:05:00'
                            vertical: true
                            features_position: bottom
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 15 min
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: backyard
                                duration: '00:15:00'
                            layout: vertical
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 30 min
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: backyard
                                duration: '00:30:00'
                            layout: vertical
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 1 hr
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: backyard
                                duration: '01:00:00'
                            layout: vertical
                          - type: custom:mushroom-template-card
                            icon: mdi:timer-outline
                            primary: 2 hr
                            tap_action:
                              action: call-service
                              service: script.start_sprinkler_timer
                              data:
                                zone: backyard
                                duration: '02:00:00'
                            vertical: true
                            features_position: bottom
      - type: grid
        cards: []
    badges: []
    header:
      layout: responsive
      badges_position: top
      badges_wrap: wrap
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
    cards: []
  - type: sections
    max_columns: 4
    title: Garage
    path: garage
    icon: mdi:garage-variant
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/rooms
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Garage
                  - type: custom:streamline-card
                    template: more-options-card
                    variables:
                      navigation_path: '#room-selector'
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 0 0 0 6px
                  width: 100%
                buttons:
                  - layout: name
                    name: Room is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_temperature
                    name: >-
                      {% set temp = states('sensor.garage_temperature') |
                      float(0) %} {% if temp < 18 %}Cold{% elif temp < 22
                      %}cool{% elif temp < 26 %}comfortable{% else %}warm{%
                      endif %} ({{ temp }}Â°C)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: and
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_humidity
                    name: >-
                      {% set hum = states('sensor.garage_humidity') | float(0)
                      %} {% if hum < 31 %}dry{% elif hum < 51 %}good{% else
                      %}humid{% endif %} ({{ hum }}%)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(14px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                buttons:
                  - entity: automation.room_presence_garage
                    state_icons:
                      'on': m3of:sensor-occupied
                      'off': m3o:sensors-krx-off
                    layout: icon_name
                    name: Presence Sensor
                    tap_action:
                      action: toggle
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.4s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
                  - entity: binary_sensor.door_sensor_grg_contact
                    state_icons:
                      'on': mdi:garage-open-variant
                      'off': mdi:garage-variant
                    layout: icon_name
                    name: Garage Door
                    tap_action:
                      action: call-service
                      service: script.garage_button_frontend
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.6s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-primary)
              active-text-color: var(--md-sys-color-on-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Room
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          title: Lights
                      - type: vertical-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_light_button_card
                            variables:
                              entity: switch.light_switch_grg
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_light_button_card
                            variables:
                              entity: switch.light_switch_atc
                          - type: custom:streamline-card
                            template: material_light_button_card
                            variables:
                              entity: switch.rear_light_switch_grg
                - title: Security
                  icon: mdi:cctv
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          - title: Camera
                      - type: custom:webrtc-camera
                        url: >-
                          ffmpeg:rtsp://<id:password>@192.168.1.248/h264Preview_01_main#video=copy#audio=opus
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: >-
                        {{ is_state('group.windows_grg', 'on') or
                        is_state('group.doors_grg', 'on')}}
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: open_doors_card
                        variables:
                          - title: Doors
                          - door_1: binary_sensor.rear_door_sensor_grg_contact
                          - door_2: binary_sensor.door_sensor_grg_contact
                          - door_3: binary_sensor.door_sensor_atc_contact
                      - type: custom:streamline-card
                        template: open_windows_card
                        variables:
                          - title: Windows
                          - window_1: binary_sensor.left_rear_window_sensor_grg_contact
                          - window_2: binary_sensor.right_rear_window_sensor_grg_contact
                          - window_3: >-
                              binary_sensor.left_outdoor_window_sensor_grg_contact
                          - window_4: >-
                              binary_sensor.right_outdoor_window_sensor_grg_contact
      - type: grid
        cards:
          - type: custom:streamline-card
            template: room_selector
            variables: {}
    badges: []
    header:
      layout: responsive
      badges_position: top
      badges_wrap: wrap
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Living Area
    path: living-area
    icon: mdi:sofa
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/rooms
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Living Area
                  - type: custom:streamline-card
                    template: more-options-card
                    variables:
                      navigation_path: '#room-selector'
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 0 0 0 6px
                  width: 100%
                buttons:
                  - layout: name
                    name: Room is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_temperature
                    name: >-
                      {% set temp = states('sensor.living_room_temperature') |
                      float(0) %} {% if temp < 18 %}Cold{% elif temp < 22
                      %}cool{% elif temp < 26 %}comfortable{% else %}warm{%
                      endif %} ({{ temp }}Â°C)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: and
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_humidity
                    name: >-
                      {% set hum = states('sensor.living_area_humidity') |
                      float(0) %} {% if hum < 31 %}dry{% elif hum < 51 %}good{%
                      else %}humid{% endif %} ({{ hum }}%)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(14px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                buttons:
                  - entity: binary_sensor.presence_active_la
                    state_icons:
                      'on': m3of:sensor-occupied
                      'off': m3o:sensors-krx-off
                    layout: icon_name
                    name: Presence Sensor
                    tap_action:
                      action: call-service
                      service: script.toggle_presence_sensor_la
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.4s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
                  - entity: input_boolean.movie_mode
                    state_icons:
                      'on': mdi:movie-open
                      'off': mdi:movie-off-outline
                    layout: icon_name
                    name: Movie Mode
                    tap_action:
                      action: toggle
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.6s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-primary)
              active-text-color: var(--md-sys-color-on-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Room
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:vertical-stack-in-card
                        cards:
                          - type: conditional
                            conditions:
                              - condition: and
                                conditions:
                                  - condition: state
                                    entity: input_boolean.other_lights_la
                                    state: 'off'
                                  - condition: state
                                    entity: input_boolean.kitchen_la
                                    state: 'off'
                                  - condition: state
                                    entity: input_boolean.media_la
                                    state: 'off'
                            card:
                              type: vertical-stack
                              cards:
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: title_card
                                      variables:
                                        title: Lights
                                    - type: custom:streamline-card
                                      template: room_nav_boolean_chip_card
                                      variables:
                                        button_one_icon: m3of:lightbulb
                                        button_two_icon: mdi:countertop
                                        button_three_icon: m3of:tv
                                        button_one: input_boolean.other_lights_la
                                        button_two: input_boolean.kitchen_la
                                        button_three: input_boolean.media_la
                                        alignment: end
                                        margin-top: 1.6em
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: material_light_slider_card
                                      variables:
                                        entity: light.lights_ktc
                                    - type: custom:streamline-card
                                      template: material_light_slider_card
                                      variables:
                                        entity: light.lights_dt
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: material_custom_dual_icon_button_card
                                      variables:
                                        entity: switch.kitchen_cabinet_led
                                        icon_on: mdi:led-strip-variant
                                        icon_off: mdi:led-strip-variant-off
                                    - type: custom:streamline-card
                                      template: material_custom_dual_icon_button_card
                                      variables:
                                        entity: switch.table_top_light
                                        icon_on: mdi:countertop
                                        icon_off: mdi:countertop-outline
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: material_custom_dual_icon_button_card
                                      variables:
                                        entity: switch.table_top_led
                                        icon_on: mdi:led-strip-variant
                                        icon_off: mdi:led-strip-variant-off
                                    - type: custom:streamline-card
                                      template: material_light_slider_card
                                      variables:
                                        entity: light.lights_sofa
                          - type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.other_lights_la
                                state: 'on'
                            card:
                              type: vertical-stack
                              cards:
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: title_card
                                      variables:
                                        title: Other Lights
                                    - type: custom:streamline-card
                                      template: room_nav_boolean_chip_card
                                      variables:
                                        button_one_icon: m3of:lightbulb
                                        button_two_icon: mdi:countertop
                                        button_three_icon: m3of:tv
                                        button_one: input_boolean.other_lights_la
                                        button_two: input_boolean.kitchen_la
                                        button_three: input_boolean.media_la
                                        alignment: end
                                        margin-top: 1.6em
                                - type: custom:streamline-card
                                  template: material_light_slider_card
                                  variables:
                                    entity: light.light_scr
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: material_custom_icon_button_card
                                      variables:
                                        entity: switch.patio_main_switch_la
                                        icon: mdi:outdoor-lamp
                                    - type: custom:streamline-card
                                      template: material_custom_icon_button_card
                                      variables:
                                        entity: switch.patio_side_switch_la
                                        icon: mdi:outdoor-lamp
                          - type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kitchen_la
                                state: 'on'
                            card:
                              type: vertical-stack
                              cards:
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: title_card
                                      variables:
                                        title: Rangehood
                                    - type: custom:streamline-card
                                      template: room_nav_boolean_chip_card
                                      variables:
                                        button_one_icon: m3of:lightbulb
                                        button_two_icon: mdi:countertop
                                        button_three_icon: m3of:tv
                                        button_one: input_boolean.other_lights_la
                                        button_two: input_boolean.kitchen_la
                                        button_three: input_boolean.media_la
                                        alignment: end
                                        margin-top: 1.6em
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: select_card
                                      variables:
                                        entity: select.kitchen_rangehood_light_level
                                        name: Light Level
                                        icon: m3of:lightbulb
                                    - type: custom:streamline-card
                                      template: select_card
                                      variables:
                                        entity: select.kitchen_rangehood_fan_speed
                                        name: Fan Speed
                                        icon: mdi:fan
                                - type: custom:streamline-card
                                  template: title_card
                                  variables:
                                    title: Switches
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: material_custom_icon_button_card
                                      variables:
                                        entity: switch.nest_hub_switch_ktc
                                        icon: mdi:google
                                    - type: custom:streamline-card
                                      template: material_custom_icon_button_card
                                      variables:
                                        entity: switch.other_switch_ktc
                                        icon: m3of:plug-connect
                          - type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.media_la
                                state: 'on'
                            card:
                              type: vertical-stack
                              cards:
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: title_card
                                      variables:
                                        title: Media
                                    - type: custom:streamline-card
                                      template: room_nav_boolean_chip_card
                                      variables:
                                        button_one_icon: m3of:lightbulb
                                        button_two_icon: mdi:countertop
                                        button_three_icon: m3of:tv
                                        button_one: input_boolean.other_lights_la
                                        button_two: input_boolean.kitchen_la
                                        button_three: input_boolean.media_la
                                        alignment: end
                                        margin-top: 1.6em
                                - type: custom:streamline-card
                                  template: media_player_card
                                  variables:
                                    entity: media_player.living_room_tv
                                    name: Living Room TV
                - title: Climate
                  icon: m3of:heat-pump
                  card:
                    type: vertical-stack
                    cards:
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: title_card
                            variables:
                              title: Control
                          - type: custom:mushroom-chips-card
                            chips:
                              - type: template
                                entity: sensor.living_area_humidity
                                icon: mdi:water-percent
                                content: >-
                                  {% set hum =
                                  states('sensor.living_area_humidity') |
                                  float(0) %} {{ hum }}% - {% if hum < 31 %}
                                    Dry
                                  {% elif hum < 51 %}
                                    Good
                                  {% else %}
                                    Humid
                                  {% endif %}
                                icon_color: >-
                                  {% set hum =
                                  states('sensor.living_area_humidity') |
                                  float(0) %} {% if hum < 31 %}
                                    #99332d
                                  {% elif hum < 51 %}
                                    #228B22
                                  {% else %}
                                    #99332d
                                  {% endif %}
                            alignment: end
                            card_mod:
                              style: |
                                ha-card {
                                  margin-top: 1.6em
                                }
                      - type: custom:material-climate-card
                        entity: climate.living_room
                        increase_temp: 1
                        decrease_temp: 1
                        use_material_color: true
                        use_default_icon: true
                        fix_temperature: auto
                        name: ' '
                      - type: conditional
                        conditions:
                          - condition: numeric_state
                            entity: sensor.climate_runtime_living_room
                            above: 0
                        card:
                          type: custom:mushroom-template-card
                          primary: Climate Runtime
                          secondary: >-
                            {% set val =
                            states('sensor.climate_runtime_living_room') |
                            float(0) %} {% set hours = val | int %} {% set
                            minutes = ((val - hours) * 60) | round(0) | int %}
                            {{ hours }}h {{ minutes }}m
                          icon: mdi:chart-areaspline
                          entity: sensor.climate_runtime_living_room
                          icon_color: >-
                            {% set val =
                            states('sensor.climate_runtime_living_room') |
                            float(0) %} {% if val > 4 %}
                              red
                            {% elif val > 2 %}
                              orange
                            {% else %}
                              green
                            {% endif %}
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: >-
                        {{ is_state('group.windows_la', 'on') or
                        is_state('group.doors_la', 'on')}}
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: open_doors_card
                        variables:
                          title: Doors
                          door_1: binary_sensor.main_sliding_door_sensor_la_contact
                          door_2: binary_sensor.side_sliding_door_sensor_la_contact
                      - type: custom:streamline-card
                        template: open_windows_card
                        variables:
                          - title: Windows
                          - window_1: binary_sensor.left_tv_window_sensor_la_contact
                          - window_2: binary_sensor.right_tv_window_sensor_la_contact
                          - window_3: binary_sensor.left_sofa_window_sensor_la_contact
                          - window_4: binary_sensor.right_sofa_window_sensor_la_contact
      - type: grid
        cards:
          - type: custom:streamline-card
            template: room_selector
            variables: {}
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Master Bedroom
    path: master-bedroom
    icon: m3of:bed
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/rooms
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Master
                  - type: custom:streamline-card
                    template: more-options-card
                    variables:
                      navigation_path: '#room-selector'
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 0 0 0 6px
                  width: 100%
                buttons:
                  - layout: name
                    name: Room is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_temperature
                    name: >-
                      {% set temp = states('sensor.master_bedroom_temperature')
                      | float(0) %} {% if temp < 18 %}Cold{% elif temp < 22
                      %}cool{% elif temp < 26 %}comfortable{% else %}warm{%
                      endif %} ({{ temp }}Â°C)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: and
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_humidity
                    name: >-
                      {% set hum = states('sensor.master_bedroom_humidity') |
                      float(0) %} {% if hum < 31 %}dry{% elif hum < 51 %}good{%
                      else %}humid{% endif %} ({{ hum }}%)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(28px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                buttons:
                  - entity: automation.room_presence_master_bedroom
                    state_icons:
                      'on': m3of:sensor-occupied
                      'off': m3o:sensors-krx-off
                    layout: icon_name
                    name: Presence Sensor
                    tap_action:
                      action: toggle
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.4s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
                  - entity: group.curtains_mbr
                    state_icons:
                      open: m3of:curtains
                      closed: m3of:curtains-closed
                    layout: icon_name
                    name: '{{ states (''sensor.mbr_curtain_action'') }}'
                    tap_action:
                      action: call-service
                      service: script.toggle_curtain_mbr
                    styles:
                      name:
                        color: '#818181'
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        animation: fadeInUp 0.5s ease-out 0.6s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#818181'
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-primary)
              active-text-color: var(--md-sys-color-on-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Room
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:vertical-stack-in-card
                        cards:
                          - type: conditional
                            conditions:
                              - condition: and
                                conditions:
                                  - condition: state
                                    entity: input_boolean.other_lights_mbr
                                    state: 'off'
                                  - condition: state
                                    entity: input_boolean.master_bathroom
                                    state: 'off'
                            card:
                              type: vertical-stack
                              cards:
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: title_card
                                      variables:
                                        title: Lights
                                    - type: custom:streamline-card
                                      template: room_nav_boolean_chip_card
                                      variables:
                                        button_one_icon: m3of:lightbulb
                                        button_two_icon: mdi:toilet
                                        button_one: input_boolean.other_lights_mbr
                                        button_two: input_boolean.master_bathroom
                                        alignment: end
                                        margin-top: 1.6em
                                - type: custom:streamline-card
                                  template: material_light_slider_card
                                  variables:
                                    entity: light.lights_mbr
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: material_custom_dual_icon_button_card
                                      variables:
                                        entity: switch.left_bedside_light_switch_mbr
                                        icon_on: m3of:face-2
                                        icon_off: m3o:face-2
                                    - type: custom:streamline-card
                                      template: material_custom_dual_icon_button_card
                                      variables:
                                        entity: switch.right_bedside_light_switch_mbr
                                        icon_on: m3of:face
                                        icon_off: m3o:face
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: material_custom_icon_slider_card
                                      variables:
                                        entity: light.makeup_table_led_mbr
                                        icon: mdi:led-strip-variant
                                    - type: custom:streamline-card
                                      template: material_custom_icon_slider_card
                                      variables:
                                        entity: light.rear_makeup_table_led_mbr
                                        icon: mdi:led-strip-variant
                                - type: custom:streamline-card
                                  template: title_card
                                  variables:
                                    - title: Curtains
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: curtain_card
                                      variables:
                                        entity: cover.left_blackout_curtain_mbr
                                    - type: custom:streamline-card
                                      template: curtain_card
                                      variables:
                                        entity: cover.right_blackout_curtain_mbr
                                - type: custom:streamline-card
                                  template: title_card
                                  variables:
                                    title: Switches
                                - type: horizontal-stack
                                  cards:
                                    - type: horizontal-stack
                                      cards:
                                        - type: custom:streamline-card
                                          template: material_custom_icon_button_card
                                          variables:
                                            entity: switch.other_left_switch_mbr
                                            icon: m3of:plug-connect
                                        - type: custom:streamline-card
                                          template: material_custom_icon_button_card
                                          variables:
                                            entity: switch.baby_monitor_switch_mbr
                                            icon: mdi:monitor-cellphone
                                - type: horizontal-stack
                                  cards:
                                    - type: horizontal-stack
                                      cards:
                                        - type: custom:streamline-card
                                          template: material_custom_icon_button_card
                                          variables:
                                            entity: switch.other_right_switch_mbr
                                            icon: m3of:plug-connect
                                        - type: custom:streamline-card
                                          template: material_custom_icon_button_card
                                          variables:
                                            entity: switch.rey_s_watch_charger_mbr
                                            icon: m3of:plug-connect
                          - type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.other_lights_mbr
                                state: 'on'
                            card:
                              type: vertical-stack
                              cards:
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: title_card
                                      variables:
                                        title: Other Lights
                                    - type: custom:streamline-card
                                      template: room_nav_boolean_chip_card
                                      variables:
                                        button_one_icon: m3of:lightbulb
                                        button_two_icon: mdi:toilet
                                        button_one: input_boolean.other_lights_mbr
                                        button_two: input_boolean.master_bathroom
                                        alignment: end
                                        margin-top: 1.6em
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: material_light_slider_card
                                      variables:
                                        entity: light.lights_wr
                                    - type: custom:streamline-card
                                      template: material_custom_icon_button_card
                                      variables:
                                        entity: switch.patio_main_switch_la
                                        icon: mdi:outdoor-lamp
                                - type: custom:streamline-card
                                  template: material_custom_icon_slider_card
                                  variables:
                                    entity: light.floor_led_wr
                                    icon: mdi:led-strip-variant
                          - type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.master_bathroom
                                state: 'on'
                            card:
                              type: vertical-stack
                              cards:
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: title_card
                                      variables:
                                        title: Lights
                                    - type: custom:streamline-card
                                      template: room_nav_boolean_chip_card
                                      variables:
                                        button_one_icon: m3of:lightbulb
                                        button_two_icon: mdi:toilet
                                        button_one: input_boolean.other_lights_mbr
                                        button_two: input_boolean.master_bathroom
                                        alignment: end
                                        margin-top: 1.6em
                                - type: horizontal-stack
                                  cards:
                                    - type: custom:streamline-card
                                      template: material_light_slider_card
                                      variables:
                                        entity: light.lights_mbrt
                                    - type: custom:streamline-card
                                      template: material_custom_dual_icon_button_card
                                      variables:
                                        entity: switch.master_bathroom_mirror_light
                                        icon_on: mdi:lightbulb-fluorescent-tube
                                        icon_off: mdi:lightbulb-fluorescent-tube-outline
                                - type: custom:streamline-card
                                  template: material_custom_icon_slider_card
                                  variables:
                                    entity: light.vanity_led_mbrt
                                    icon: mdi:led-strip-variant
                                - type: custom:streamline-card
                                  template: title_card
                                  variables:
                                    title: Switches
                                - type: custom:streamline-card
                                  template: material_custom_icon_with_status_button_card
                                  variables:
                                    entity: switch.towel_switch_mbr
                                    icon: mdi:heating-coil
                                    text_on: Heating
                                    text_off: 'Off'
                                - type: custom:streamline-card
                                  template: title_card
                                  variables:
                                    title: Fan
                                - type: custom:streamline-card
                                  template: >-
                                    material_custom_dual_icon_with_status_button_card
                                  variables:
                                    entity: fan.master_bathroom_fan
                                    icon_on: mdi:fan
                                    icon_off: mdi:fan-off
                                    text_on: Running
                                    text_off: 'Off'
                - title: Climate
                  icon: m3of:heat-pump
                  card:
                    type: vertical-stack
                    cards:
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: title_card
                            variables:
                              - title: Control
                          - type: custom:mushroom-chips-card
                            chips:
                              - type: template
                                entity: sensor.master_bedroom_humidity
                                icon: mdi:water-percent
                                content: >-
                                  {% set hum =
                                  states('sensor.master_bedroom_humidity') |
                                  float(0) %} {{ hum }}% - {% if hum < 31 %}
                                    Dry
                                  {% elif hum < 51 %}
                                    Good
                                  {% else %}
                                    Humid
                                  {% endif %}
                                icon_color: >-
                                  {% set hum =
                                  states('sensor.master_bedroom_humidity') |
                                  float(0) %} {% if hum < 31 %}
                                    #99332d
                                  {% elif hum < 51 %}
                                    #228B22
                                  {% else %}
                                    #99332d
                                  {% endif %}
                            alignment: end
                            card_mod:
                              style: |
                                ha-card {
                                  margin-top: 1.6em
                                }
                      - type: custom:material-climate-card
                        entity: climate.master_bedroom
                        increase_temp: 1
                        decrease_temp: 1
                        use_material_color: true
                        use_default_icon: true
                        fix_temperature: auto
                        name: ' '
                      - type: conditional
                        conditions:
                          - condition: numeric_state
                            entity: sensor.climate_runtime_master_bedroom
                            above: 0
                        card:
                          type: custom:mushroom-template-card
                          primary: Climate Runtime
                          secondary: >-
                            {% set val =
                            states('sensor.climate_runtime_master_bedroom') |
                            float(0) %} {% set hours = val | int %} {% set
                            minutes = ((val - hours) * 60) | round(0) | int %}
                            {{ hours }}h {{ minutes }}m
                          icon: mdi:chart-areaspline
                          entity: sensor.climate_runtime_living_room
                          icon_color: >-
                            {% set val =
                            states('sensor.climate_runtime_master_bedroom') |
                            float(0) %} {% if val > 4 %}
                              red
                            {% elif val > 2 %}
                              orange
                            {% else %}
                              green
                            {% endif %}
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: >-
                        {{ is_state('group.windows_mbr', 'on' ) or
                        is_state('group.doors_mbr', 'on')}}
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: open_doors_card
                        variables:
                          - title: Doors
                          - door_1: binary_sensor.sliding_door_sensor_mbr_contact
                          - door_2: binary_sensor.door_sensor_mbr_contact
                      - type: custom:streamline-card
                        template: open_windows_card
                        variables:
                          - title: Windows
                          - window_1: binary_sensor.left_window_sensor_mbr_contact
                          - window_2: binary_sensor.right_window_sensor_mbr_contact
                          - window_3: binary_sensor.window_sensor_mbrt_contact
      - type: grid
        cards:
          - type: custom:streamline-card
            template: room_selector
            variables: {}
          - type: custom:streamline-card
            template: slide_in_right
            variables:
              delay_animation: 1.0s
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Baby Room
    path: baby-room
    icon: mdi:baby-carriage
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/rooms
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Baby Room
                  - type: custom:streamline-card
                    template: more-options-card
                    variables:
                      navigation_path: '#room-selector'
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 0 0 0 6px
                  width: 100%
                buttons:
                  - layout: name
                    name: Room is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_temperature
                    name: >-
                      {% set temp = states('sensor.baby_room_temperature') |
                      float(0) %} {% if temp < 18 %}Cold{% elif temp < 22
                      %}cool{% elif temp < 26 %}comfortable{% else %}warm{%
                      endif %} ({{ temp }}Â°C)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: and
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_humidity
                    name: >-
                      {% set hum = states('sensor.baby_room_humidity') |
                      float(0) %} {% if hum < 31 %}dry{% elif hum < 51 %}good{%
                      else %}humid{% endif %} ({{ hum }}%)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(28px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                buttons:
                  - entity: automation.room_presence_baby_room
                    state_icons:
                      'on': m3of:sensor-occupied
                      'off': m3o:sensors-krx-off
                    layout: icon_name
                    name: Presence Sensor
                    tap_action:
                      action: toggle
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.4s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-primary)
              active-text-color: var(--md-sys-color-on-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Room
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          - title: Lights
                      - type: custom:streamline-card
                        template: material_light_slider_card
                        variables:
                          entity: light.lights_br
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_custom_icon_slider_card
                            variables:
                              entity: light.bed_led_1
                              icon: mdi:led-strip-variant
                          - type: custom:streamline-card
                            template: material_custom_icon_slider_card
                            variables:
                              entity: light.bed_led_2
                              icon: mdi:led-strip-variant
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          title: Switches
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_custom_icon_button_card
                            variables:
                              entity: switch.baby_camera_switch_br
                              icon: m3of:camera-video
                          - type: custom:streamline-card
                            template: material_custom_icon_button_card
                            variables:
                              entity: switch.other_switch_br
                              icon: m3of:plug-connect
                - title: Climate
                  icon: m3of:heat-pump
                  card:
                    type: vertical-stack
                    cards:
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: title_card
                            variables:
                              - title: Climate
                          - type: custom:mushroom-chips-card
                            chips:
                              - type: template
                                entity: sensor.baby_room_humidity
                                icon: mdi:water-percent
                                content: >-
                                  {% set hum =
                                  states('sensor.baby_room_humidity') | float(0)
                                  %} {{ hum }}% - {% if hum < 31 %}
                                    Dry
                                  {% elif hum < 51 %}
                                    Good
                                  {% else %}
                                    Humid
                                  {% endif %}
                                icon_color: >-
                                  {% set hum =
                                  states('sensor.baby_room_humidity') | float(0)
                                  %} {% if hum < 31 %}
                                    #99332d
                                  {% elif hum < 51 %}
                                    #228B22
                                  {% else %}
                                    #99332d
                                  {% endif %}
                            alignment: end
                            card_mod:
                              style: |
                                ha-card {
                                  margin-top: 1.6em
                                }
                      - type: custom:material-climate-card
                        entity: climate.baby_room
                        increase_temp: 1
                        decrease_temp: 1
                        use_material_color: true
                        use_default_icon: true
                        fix_temperature: auto
                        name: ' '
                      - type: conditional
                        conditions:
                          - condition: numeric_state
                            entity: sensor.climate_runtime_baby_room
                            above: 0
                        card:
                          type: custom:mushroom-template-card
                          primary: Climate Runtime
                          secondary: >-
                            {% set val =
                            states('sensor.climate_runtime_baby_room') |
                            float(0) %} {% set hours = val | int %} {% set
                            minutes = ((val - hours) * 60) | round(0) | int %}
                            {{ hours }}h {{ minutes }}m
                          icon: mdi:chart-areaspline
                          entity: sensor.climate_runtime_living_room
                          icon_color: >-
                            {% set val =
                            states('sensor.climate_runtime_baby_room') |
                            float(0) %} {% if val > 4 %}
                              red
                            {% elif val > 2 %}
                              orange
                            {% else %}
                              green
                            {% endif %}
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: >-
                        {{ is_state('group.windows_br', 'on') or
                        is_state('binary_sensor.door_sensor_br_contact', 'on')}}
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: open_doors_card
                        variables:
                          - title: Door
                          - door_1: binary_sensor.door_sensor_br_contact
                      - type: custom:streamline-card
                        template: open_windows_card
                        variables:
                          - title: Windows
                          - window_1: binary_sensor.left_window_sensor_br_contact
                          - window_2: binary_sensor.right_window_sensor_br_contact
      - type: grid
        cards:
          - type: custom:streamline-card
            template: room_selector
            variables: {}
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Single Guest Room
    path: single-guest-room
    icon: m3of:person-3
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/rooms
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Single Guest Room
                  - type: custom:streamline-card
                    template: more-options-card
                    variables:
                      navigation_path: '#room-selector'
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 0 0 0 6px
                  width: 100%
                buttons:
                  - layout: name
                    name: Room is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_temperature
                    name: >-
                      {% set temp =
                      states('sensor.single_guest_room_temperature') | float(0)
                      %} {% if temp < 18 %}Cold{% elif temp < 22 %}cool{% elif
                      temp < 26 %}comfortable{% else %}warm{% endif %} ({{ temp
                      }}Â°C)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: and
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_humidity
                    name: >-
                      {% set hum = states('sensor.single_guest_room_humidity') |
                      float(0) %} {% if hum < 31 %}dry{% elif hum < 51 %}good{%
                      else %}humid{% endif %} ({{ hum }}%)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(28px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                buttons:
                  - entity: automation.room_presence_single_guest_room
                    state_icons:
                      'on': m3of:sensor-occupied
                      'off': m3o:sensors-krx-off
                    layout: icon_name
                    name: Presence Sensor
                    tap_action:
                      action: toggle
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.4s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-primary)
              active-text-color: var(--md-sys-color-on-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Room
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          - title: Lights
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_light_slider_card
                            variables:
                              entity: light.lights_sgr
                          - type: custom:streamline-card
                            template: material_custom_icon_slider_card
                            variables:
                              entity: light.bed_led_sgr
                              icon: mdi:led-strip-variant
                - title: Climate
                  icon: m3of:heat-pump
                  card:
                    type: vertical-stack
                    cards:
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: title_card
                            variables:
                              - title: Climate
                          - type: custom:mushroom-chips-card
                            chips:
                              - type: template
                                entity: sensor.single_guest_room_humidity
                                icon: mdi:water-percent
                                content: >-
                                  {% set hum =
                                  states('sensor.single_guest_room_humidity') |
                                  float(0) %} {{ hum }}% - {% if hum < 31 %}
                                    Dry
                                  {% elif hum < 51 %}
                                    Good
                                  {% else %}
                                    Humid
                                  {% endif %}
                                icon_color: >-
                                  {% set hum =
                                  states('sensor.single_guest_room_humidity') |
                                  float(0) %} {% if hum < 31 %}
                                    #99332d
                                  {% elif hum < 51 %}
                                    #228B22
                                  {% else %}
                                    #99332d
                                  {% endif %}
                            alignment: end
                            card_mod:
                              style: |
                                ha-card {
                                  margin-top: 1.6em
                                }
                      - type: custom:material-climate-card
                        entity: climate.single_guest_room
                        increase_temp: 1
                        decrease_temp: 1
                        use_material_color: true
                        use_default_icon: true
                        fix_temperature: auto
                        name: ' '
                      - type: conditional
                        conditions:
                          - condition: numeric_state
                            entity: sensor.climate_runtime_single_guest_room
                            above: 0
                        card:
                          type: custom:mushroom-template-card
                          primary: Climate Runtime
                          secondary: >-
                            {% set val =
                            states('sensor.climate_runtime_single_guest_room') |
                            float(0) %} {% set hours = val | int %} {% set
                            minutes = ((val - hours) * 60) | round(0) | int %}
                            {{ hours }}h {{ minutes }}m
                          icon: mdi:chart-areaspline
                          entity: sensor.climate_runtime_living_room
                          icon_color: >-
                            {% set val =
                            states('sensor.climate_runtime_single_guest_room') |
                            float(0) %} {% if val > 4 %}
                              red
                            {% elif val > 2 %}
                              orange
                            {% else %}
                              green
                            {% endif %}
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: >-
                        {{ is_state('binary_sensor.windows_sgr', 'on') or
                        is_state('binary_sensor.door_sensor_sgr_contact', 'on')
                        }}
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: open_doors_card
                        variables:
                          - title: Door
                          - door_1: binary_sensor.door_sensor_sgr_contact
                      - type: custom:streamline-card
                        template: open_windows_card
                        variables:
                          - title: Windows
                          - window_1: binary_sensor.left_window_sensor_sgr_contact
                          - window_2: binary_sensor.right_window_sensor_sgr_contact
      - type: grid
        cards:
          - type: custom:streamline-card
            template: room_selector
            variables: {}
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Multiple Guest Room
    path: multiple-guest-room
    icon: m3of:groups-2
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/rooms
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Multiple Guest Room
                  - type: custom:streamline-card
                    template: more-options-card
                    variables:
                      navigation_path: '#room-selector'
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 0 0 0 6px
                  width: 100%
                buttons:
                  - layout: name
                    name: Room is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_temperature
                    name: >-
                      {% set temp =
                      states('sensor.multiple_guest_room_temperature') |
                      float(0) %} {% if temp < 18 %}Cold{% elif temp < 22
                      %}cool{% elif temp < 26 %}comfortable{% else %}warm{%
                      endif %} ({{ temp }}Â°C)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: and
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_humidity
                    name: >-
                      {% set hum = states('sensor.multiple_guest_room_humidity')
                      | float(0) %} {% if hum < 31 %}dry{% elif hum < 51
                      %}good{% else %}humid{% endif %} ({{ hum }}%)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(28px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                buttons:
                  - entity: automation.room_presence_multiple_guest_room
                    state_icons:
                      'on': m3of:sensor-occupied
                      'off': m3o:sensors-krx-off
                    layout: icon_name
                    name: Presence Sensor
                    tap_action:
                      action: toggle
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.4s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-primary)
              active-text-color: var(--md-sys-color-on-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Room
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          - title: Lights
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_light_slider_card
                            variables:
                              entity: light.lights_mgr
                          - type: custom:streamline-card
                            template: material_custom_icon_slider_card
                            variables:
                              entity: light.bed_led_mgr
                              icon: mdi:led-strip-variant
                - title: Climate
                  icon: m3of:heat-pump
                  card:
                    type: vertical-stack
                    cards:
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: title_card
                            variables:
                              - title: Climate
                          - type: custom:mushroom-chips-card
                            chips:
                              - type: template
                                entity: sensor.multiple_guest_room_humidity
                                icon: mdi:water-percent
                                content: >-
                                  {% set hum =
                                  states('sensor.multiple_guest_room_humidity')
                                  | float(0) %} {{ hum }}% - {% if hum < 31 %}
                                    Dry
                                  {% elif hum < 51 %}
                                    Good
                                  {% else %}
                                    Humid
                                  {% endif %}
                                icon_color: >-
                                  {% set hum =
                                  states('sensor.multiple_guest_room_humidity')
                                  | float(0) %} {% if hum < 31 %}
                                    #99332d
                                  {% elif hum < 51 %}
                                    #228B22
                                  {% else %}
                                    #99332d
                                  {% endif %}
                            alignment: end
                            card_mod:
                              style: |
                                ha-card {
                                  margin-top: 1.6em
                                }
                      - type: custom:material-climate-card
                        entity: climate.multiple_guest_room
                        increase_temp: 1
                        decrease_temp: 1
                        use_material_color: true
                        use_default_icon: true
                        fix_temperature: auto
                        name: ' '
                      - type: conditional
                        conditions:
                          - condition: numeric_state
                            entity: sensor.climate_runtime_multiple_guest_room
                            above: 0
                        card:
                          type: custom:mushroom-template-card
                          primary: Climate Runtime
                          secondary: >-
                            {% set val =
                            states('sensor.climate_runtime_multiple_guest_room')
                            | float(0) %} {% set hours = val | int %} {% set
                            minutes = ((val - hours) * 60) | round(0) | int %}
                            {{ hours }}h {{ minutes }}m
                          icon: mdi:chart-areaspline
                          entity: sensor.climate_runtime_living_room
                          icon_color: >-
                            {% set val =
                            states('sensor.climate_runtime_multiple_guest_room')
                            | float(0) %} {% if val > 4 %}
                              red
                            {% elif val > 2 %}
                              orange
                            {% else %}
                              green
                            {% endif %}
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: >-
                        {{ is_state('group.windows_mgr', 'on') or
                        is_state('binary_sensor.door_sensor_mgr_contact', 'on')
                        }}
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: open_doors_card
                        variables:
                          - title: Door
                          - door_1: binary_sensor.door_sensor_mgr_contact
                      - type: custom:streamline-card
                        template: open_windows_card
                        variables:
                          - title: Windows
                          - window_1: binary_sensor.left_window_sensor_mgr_contact
                          - window_2: binary_sensor.right_window_sensor_mgr_contact
      - type: grid
        cards:
          - type: custom:streamline-card
            template: room_selector
            variables: {}
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Entrance
    path: entrance
    icon: mdi:table-furniture
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/rooms
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Entrance
                  - type: custom:streamline-card
                    template: more-options-card
                    variables:
                      navigation_path: '#room-selector'
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 0 0 0 6px
                  width: 100%
                buttons:
                  - layout: name
                    name: Room is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_temperature
                    name: >-
                      {% set temp = states('sensor.living_room_temperature') |
                      float(0) %} {% if temp < 18 %}Cold{% elif temp < 22
                      %}cool{% elif temp < 26 %}comfortable{% else %}warm{%
                      endif %} ({{ temp }}Â°C)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: and
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_humidity
                    name: >-
                      {% set hum = states('sensor.living_area_humidity') |
                      float(0) %} {% if hum < 31 %}dry{% elif hum < 51 %}good{%
                      else %}humid{% endif %} ({{ hum }}%)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(28px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                buttons:
                  - entity: automation.room_presence_entrance
                    state_icons:
                      'on': m3of:sensor-occupied
                      'off': m3o:sensors-krx-off
                    layout: icon_name
                    name: Presence Sensor
                    tap_action:
                      action: toggle
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.4s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-primary)
              active-text-color: var(--md-sys-color-on-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Room
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          title: Lights
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_light_slider_card
                            variables:
                              entity: light.lights_etr
                          - type: custom:streamline-card
                            template: material_custom_icon_slider_card
                            variables:
                              entity: light.entrance_table_led
                              icon: mdi:led-strip-variant
                - title: Security
                  icon: mdi:cctv
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          - title: Camera
                      - type: custom:webrtc-camera
                        url: >-
                          ffmpeg:rtsp://<id:password>@192.168.1.222/h265Preview_01_main#video=copy#audio=opus
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: >-
                        {{ is_state('binary_sensor.door_sensor_etr_contact',
                        'on')}}
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: open_doors_card
                        variables:
                          - title: Door
                          - door_1: binary_sensor.door_sensor_etr_contact
      - type: grid
        cards:
          - type: custom:streamline-card
            template: room_selector
            variables: {}
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Office
    path: office
    icon: m3of:computer
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/rooms
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Office
                  - type: custom:streamline-card
                    template: more-options-card
                    variables:
                      navigation_path: '#room-selector'
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 0 0 0 6px
                  width: 100%
                buttons:
                  - layout: name
                    name: Room is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_temperature
                    name: >-
                      {% set temp = states('sensor.office_room_temperature') |
                      float(0) %} {% if temp < 18 %}Cold{% elif temp < 22
                      %}cool{% elif temp < 26 %}comfortable{% else %}warm{%
                      endif %} ({{ temp }}Â°C)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: and
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_humidity
                    name: >-
                      {% set hum = states('sensor.office_room_humidity') |
                      float(0) %} {% if hum < 31 %}dry{% elif hum < 51 %}good{%
                      else %}humid{% endif %} ({{ hum }}%)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(28px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                buttons:
                  - entity: automation.room_presence_office
                    state_icons:
                      'on': m3of:sensor-occupied
                      'off': m3o:sensors-krx-off
                    layout: icon_name
                    name: Presence Sensor
                    tap_action:
                      action: toggle
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.4s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-primary)
              active-text-color: var(--md-sys-color-on-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Room
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          - title: Lights
                      - type: custom:streamline-card
                        template: material_light_button_card
                        variables:
                          entity: switch.light_switch_or
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          title: Switches
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_custom_icon_button_card
                            variables:
                              entity: switch.mackbook_switch_or
                              icon: m3o:computer
                          - type: custom:streamline-card
                            template: material_custom_icon_button_card
                            variables:
                              entity: switch.pc_dock_switch_or
                              icon: mdi:desktop-tower-monitor
                - title: Climate
                  icon: m3of:heat-pump
                  card:
                    type: vertical-stack
                    cards:
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: title_card
                            variables:
                              - title: Climate
                          - type: custom:mushroom-chips-card
                            chips:
                              - type: conditional
                                conditions:
                                  - condition: numeric_state
                                    entity: sensor.climate_runtime_office_room
                                    above: 0
                                chip:
                                  type: template
                                  entity: sensor.climate_runtime_office_room
                                  icon: mdi:chart-areaspline
                                  content: >-
                                    {% set val =
                                    states('sensor.climate_runtime_office_room')
                                    | float(0) %} {% set hours = val | int %} {%
                                    set minutes = ((val - hours) * 60) |
                                    round(0) | int %} {{ hours }}h {{ minutes
                                    }}m
                              - type: template
                                entity: sensor.office_room_humidity
                                icon: mdi:water-percent
                                content: >-
                                  {% set hum =
                                  states('sensor.office_room_humidity') |
                                  float(0) %} {{ hum }}% - {% if hum < 31 %}
                                    Dry
                                  {% elif hum < 51 %}
                                    Good
                                  {% else %}
                                    Humid
                                  {% endif %}
                                icon_color: >-
                                  {% set hum =
                                  states('sensor.office_room_humidity') |
                                  float(0) %} {% if hum < 31 %}
                                    #99332d
                                  {% elif hum < 51 %}
                                    #228B22
                                  {% else %}
                                    #99332d
                                  {% endif %}
                            alignment: end
                            card_mod:
                              style: |
                                ha-card {
                                  margin-top: 1.6em
                                }
                      - type: custom:material-climate-card
                        entity: climate.office_room
                        increase_temp: 1
                        decrease_temp: 1
                        use_material_color: true
                        use_default_icon: true
                        fix_temperature: auto
                        name: ' '
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: >-
                        {{ is_state('group.windows_or', 'on') or
                        is_state('binary_sensor.door_sensor_or_contact', 'on')}}
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: open_doors_card
                        variables:
                          - title: Door
                          - door_1: binary_sensor.door_sensor_or_contact
                      - type: custom:streamline-card
                        template: open_windows_card
                        variables:
                          - title: Windows
                          - window_1: binary_sensor.left_window_sensor_or_contact
                          - window_2: binary_sensor.right_window_sensor_or_contact
      - type: grid
        cards:
          - type: custom:streamline-card
            template: room_selector
            variables: {}
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Guest Bathroom
    path: guest-bathroom
    icon: m3of:water-drop
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/rooms
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Guest Bathroom
                  - type: custom:streamline-card
                    template: more-options-card
                    variables:
                      navigation_path: '#room-selector'
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 0 0 0 6px
                  width: 100%
                buttons:
                  - layout: name
                    name: Room is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_temperature
                    name: >-
                      {% set temp = states('sensor.guest_bathroom_temperature')
                      | float(0) %} {% if temp < 18 %}Cold{% elif temp < 22
                      %}cool{% elif temp < 26 %}comfortable{% else %}warm{%
                      endif %} ({{ temp }}Â°C)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: and
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_humidity
                    name: >-
                      {% set hum = states('sensor.guest_bathroom_humidity') |
                      float(0) %} {% if hum < 31 %}dry{% elif hum < 51 %}good{%
                      else %}humid{% endif %} ({{ hum }}%)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(28px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                buttons:
                  - entity: binary_sensor.presence_active_gbr
                    state_icons:
                      'on': m3of:sensor-occupied
                      'off': m3o:sensors-krx-off
                    layout: icon_name
                    name: Presence Sensor
                    tap_action:
                      action: call-service
                      service: script.toggle_presence_sensor_gbr
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.4s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-primary)
              active-text-color: var(--md-sys-color-on-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Room
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          title: Lights
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_light_slider_card
                            variables:
                              entity: light.lights_gbrv
                          - type: custom:streamline-card
                            template: material_custom_dual_icon_button_card
                            variables:
                              entity: switch.guest_bathroom_mirror_light
                              icon_on: mdi:lightbulb-fluorescent-tube
                              icon_off: mdi:lightbulb-fluorescent-tube-outline
                      - type: custom:streamline-card
                        template: material_custom_icon_slider_card
                        variables:
                          entity: light.vanity_led_gbrv
                          icon: mdi:led-strip-variant
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_light_slider_card
                            variables:
                              entity: light.light_gbrt
                          - type: custom:streamline-card
                            template: material_light_slider_card
                            variables:
                              entity: light.lights_gbrb
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          title: Switches
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_custom_icon_button_card
                            variables:
                              entity: switch.network_switch_gbrv
                              icon: mdi:access-point-network
                          - type: custom:streamline-card
                            template: material_custom_icon_button_card
                            variables:
                              entity: switch.other_switch_gbrv
                              icon: m3of:plug-connect
                      - type: custom:streamline-card
                        template: material_custom_icon_with_status_button_card
                        variables:
                          entity: switch.towel_switch_gbr
                          icon: mdi:heating-coil
                          text_on: Heating
                          text_off: 'Off'
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          title: Fan
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_custom_dual_icon_with_status_button_card
                            variables:
                              entity: fan.guest_bathroom_vanity_fan
                              icon_on: mdi:fan
                              icon_off: mdi:fan-off
                              text_on: Running
                              text_off: 'Off'
                          - type: custom:streamline-card
                            template: material_custom_dual_icon_with_status_button_card
                            variables:
                              entity: fan.guest_bathroom_fan
                              icon_on: mdi:fan
                              icon_off: mdi:fan-off
                              text_on: Running
                              text_off: 'Off'
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: '{{ is_state(''group.windows_gbr'', ''on'')}}'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: open_windows_card
                        variables:
                          title: Windows
                          window_1: binary_sensor.top_window_sensor_gbrt_contact
                          window_2: binary_sensor.bottom_window_sensor_gbrt_contact
                          window_3: binary_sensor.window_sensor_gbrb_contact
      - type: grid
        cards:
          - type: custom:streamline-card
            template: room_selector
            variables: {}
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
  - type: sections
    max_columns: 4
    title: Driveway
    path: driveway
    icon: mdi:car
    subview: true
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:streamline-card
                    template: back_button_card
                    variables:
                      navigation_path: /mobile-dashboard/rooms
                  - type: custom:streamline-card
                    template: page_title_card
                    variables:
                      title: Driveway
                  - type: custom:streamline-card
                    template: more-options-card
                    variables:
                      navigation_path: '#room-selector'
              - type: custom:streamline-card
                template: spacer_card
                variables:
                  padding: 4px
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                  flex-wrap: wrap
                  font-size: 0.9em
                  line-height: 1.2em
                  margin: 0 0 0 6px
                  width: 100%
                buttons:
                  - layout: name
                    name: Room is
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.3s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_temperature
                    name: >-
                      {% set temp = states('sensor.outdoor_temperature') |
                      float(0) %} {% if temp < 18 %}Cold{% elif temp < 22
                      %}cool{% elif temp < 26 %}comfortable{% else %}warm{%
                      endif %} ({{ temp }}Â°C)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.5s both
                        transition: all 0.3s ease
                  - layout: name
                    name: and
                    styles:
                      button:
                        flex-basis: 1
                        flex-shrink: 0
                        animation: fadeIn 0.8s ease-out 0.7s both
                      name:
                        color: var(--primary-text-color)
                    tap_action:
                      action: none
                  - layout: name
                    entity: sensor.garage_humidity
                    name: >-
                      {% set hum = states('sensor.outdoor_humidity') | float(0)
                      %} {% if hum < 31 %}dry{% elif hum < 51 %}good{% else
                      %}humid{% endif %} ({{ hum }}%)
                    tap_action:
                      action: more-info
                    styles:
                      icon:
                        color: var(--md-sys-color-primary)
                      name:
                        color: var(--md-sys-color-primary)
                        font-weight: bold
                      button:
                        padding: 2px 8px
                        background-color: var(--md-sys-color-on-primary)
                        border-radius: 24px
                        flex-basis: 1
                        flex-shrink: 0
                        animation: slideInLeft 0.6s ease-out 0.9s both
                        transition: all 0.3s ease
                card_mod:
                  style: |
                    ha-card {
                      overflow: visible !important;
                    }
                    @keyframes fadeIn {
                      from {
                        opacity: 0;
                      }
                      to {
                        opacity: 1;
                      }
                    }
                    @keyframes slideInLeft {
                      from {
                        opacity: 0;
                        transform: translateX(-40px);
                      }
                      to {
                        opacity: 1;
                        transform: translateX(0);
                      }
                    }
              - type: custom:paper-buttons-row
                styles:
                  gap: 8px
                  justify-content: flex-start
                  overflow: scroll
                  margin: 12px 0 12px -18px
                  padding-left: 18px
                  width: 100%
                extra_styles: |
                  ::-webkit-scrollbar {
                    display: none;
                  }
                  @keyframes fadeInUp {
                    from {
                      opacity: 0;
                      transform: translateY(28px);
                    }
                    to {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                buttons:
                  - entity: automation.outdoor_presence_driveway
                    state_icons:
                      'on': m3of:sensor-occupied
                      'off': m3o:sensors-krx-off
                    layout: icon_name
                    name: Presence Sensor
                    tap_action:
                      action: toggle
                    styles:
                      name:
                        color: '#a8a8a8'
                        transition: color 0.3s ease, transform 0.3s ease
                      button:
                        padding: 12px
                        width: 76px
                        height: 76px
                        flex-basis: 1
                        flex-shrink: 0
                        display: flex
                        background-color: var(--popupBG)
                        border-radius: 24px
                        color: var(--white)
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
                        animation: fadeInUp 0.5s ease-out 0.4s both
                      icon:
                        '--mdc-icon-size': 26px
                        color: '#a8a8a8'
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1)
                    state_styles:
                      'on':
                        icon:
                          color: var(--primary-text-color)
                        name:
                          color: var(--primary-text-color)
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  animation: slideInRight 1.0s cubic-bezier(0.4, 0, 0.2, 1) 1.0s both;
                }

                @keyframes slideInRight {
                  from {
                    opacity: 0;
                    transform: translateX(40px);
                  }
                  to {
                    opacity: 1;
                    transform: translateX(0);
                  }
                }
            card:
              type: custom:simple-tabs
              pre-load: true
              active-background: var(--md-sys-color-primary)
              active-text-color: var(--md-sys-color-on-primary)
              text-color: var(--primary-text-color)
              tabs:
                - title: Room
                  icon: m3of:home
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          title: Light Switches
                      - type: horizontal-stack
                        cards:
                          - type: custom:streamline-card
                            template: material_light_button_card
                            variables:
                              entity: switch.light_switch_drw
                          - type: custom:streamline-card
                            template: material_light_button_card
                            variables:
                              entity: switch.porch_light
                - title: Security
                  icon: mdi:cctv
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: title_card
                        variables:
                          - title: Cameras
                      - type: custom:webrtc-camera
                        url: >-
                          ffmpeg:rtsp://<id:password>@192.168.1.150/h265Preview_01_main#video=copy#audio=opus
                      - type: custom:webrtc-camera
                        url: >-
                          ffmpeg:rtsp://<id:password>@192.168.1.245/h265Preview_01_main#video=copy#audio=opus
                - title: Active
                  icon: m3of:play-circle
                  conditions:
                    - template: '{{ is_state(''group.doors_drw'', ''on'')}}'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:streamline-card
                        template: open_doors_card
                        variables:
                          title: Doors
                          door_1: binary_sensor.door_sensor_etr_contact
                          door_2: binary_sensor.door_sensor_grg_contact
      - type: grid
        cards:
          - type: custom:streamline-card
            template: room_selector
            variables: {}
    background:
      opacity: 50
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: fixed
      image:
        media_content_id: /local/Blue - Portrait.webp
